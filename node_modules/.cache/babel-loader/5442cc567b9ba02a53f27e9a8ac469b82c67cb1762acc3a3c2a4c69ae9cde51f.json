{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport { inject, ref, computed } from \"vue\";\nimport * as turf from \"@turf/turf\";\nimport emitter from \"@/store/eventBus.js\";\nimport { mapActions, mapMutations, mapState, useStore } from \"vuex\";\nimport EpInfoFilled from \"~icons/ep/info-filled\";\nimport LineMdConfirm from \"~icons/line-md/confirm\";\nexport default {\n  data() {\n    let currentDate = new Date();\n    let data1 = new Date();\n    let data2 = new Date();\n    let data3 = new Date();\n    let data4 = new Date();\n    let data5 = new Date();\n    data1.setDate(currentDate.getDate());\n    data2.setDate(currentDate.getDate() + 1);\n    data3.setDate(currentDate.getDate() + 2);\n    data4.setDate(currentDate.getDate() + 3);\n    data5.setDate(currentDate.getDate() + 4);\n    let month1 = data1.getMonth() + 1;\n    let month2 = data2.getMonth() + 1;\n    let month3 = data3.getMonth() + 1;\n    let month4 = data4.getMonth() + 1;\n    let month5 = data5.getMonth() + 1;\n    data1 = data1 < 10 ? \"0\" + data1.getDate() : data1.getDate();\n    data2 = data2 < 10 ? \"0\" + data2.getDate() : data2.getDate();\n    data3 = data3 < 10 ? \"0\" + data3.getDate() : data3.getDate();\n    data4 = data4 < 10 ? \"0\" + data4.getDate() : data4.getDate();\n    data5 = data5 < 10 ? \"0\" + data5.getDate() : data5.getDate();\n    month1 = month1 < 10 ? \"0\" + month1 : month1;\n    month2 = month2 < 10 ? \"0\" + month2 : month2;\n    month3 = month3 < 10 ? \"0\" + month3 : month3;\n    month4 = month4 < 10 ? \"0\" + month4 : month4;\n    month5 = month5 < 10 ? \"0\" + month5 : month5;\n    return {\n      input: \"\",\n      dialogVisible: false,\n      tab: \"tab_1\",\n      addAddress: false,\n      paths: [{\n        name: \"Оформление заказа\",\n        path: \"/rol-shop/order\"\n      }],\n      loadingPostAddress: false,\n      restaurants: [],\n      optionsDay: [{\n        value: `${data1}.${month1}`,\n        label: \"Сегодня\"\n      }, {\n        value: `${data2}.${month2}`,\n        label: \"Завтра\"\n      }, {\n        value: `${data3}.${month3}`,\n        label: `${data3}.${month3}`\n      }, {\n        value: `${data4}.${month4}`,\n        label: `${data4}.${month4}`\n      }, {\n        value: `${data5}.${month5}`,\n        label: `${data5}.${month5}`\n      }],\n      optionsTime: [],\n      selectDay: \"\",\n      selectTime: \"\",\n      lat: \"\",\n      long: \"\",\n      svg: `\n        <path class=\"path\" d=\"\n          M 30 15\n          L 28 17\n          M 25.61 25.61\n          A 15 15, 0, 0, 1, 15 30\n          A 15 15, 0, 1, 1, 27.99 7.5\n          L 15 15\n        \" style=\"stroke-width: 4px; fill: rgba(0, 0, 0, 0); stroke: #f63\"/>\n      `,\n      paymentDelivery: \"Наличными курьеру\",\n      paymentPickup: \"Наличными в точке выдачи\",\n      sliderLoading: false,\n      validForm1: false,\n      validForm2: false,\n      validForm3: false,\n      isCreatingOrder: false,\n      orderId: null,\n      animals: [\"dog\"],\n      doorOptions1: [\"Оставить под дверью\"],\n      doorOptions2: [\"Оставить под дверью\"],\n      addressRadio: \"\",\n      cityRadio1: \"Киев\",\n      cityRadio2: \"Киев\",\n      resultsOrder: \"\",\n      coord: this.$store.state.map.coord,\n      result: [],\n      orderDone: false,\n      idAddress: \"\",\n      EpInfoFilled: EpInfoFilled\n    };\n  },\n  components: {\n    LineMdConfirm\n  },\n  methods: {\n    ...mapActions({\n      checkAddress: \"map/checkAddress\"\n    }),\n    ...mapMutations({\n      setPaths: \"crumbs/setPaths\"\n    }),\n    async fetchAddressSelect(value, cb) {\n      try {\n        if (value) {\n          const {\n            data\n          } = await axios.get(`https://suggest-maps.yandex.ru/v1/suggest?apikey=00748542-2e0b-439d-864b-98b4baac2c5f&text=${this.cityRadio1}, ${value}&bbox=${this.area}&lang=ru_RU&strict_bounds=1&types=street,metro,house,district,vegetation&print_address=1`);\n          if (data.results) {\n            this.result = data.results.map(item => ({\n              address: item.title.text,\n              house: item.address.component.find(pl => pl.kind == \"HOUSE\") ? item.address.component.find(pl => pl.kind == \"HOUSE\").name : \"\"\n            }));\n\n            // возвращение данных\n            cb(this.result);\n          } else {\n            // если нет результатов / скрытие списка\n            cb([]);\n          }\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    handleSelectAddress(item) {\n      // заполнение полей\n      this.form.address = item.address;\n      this.form.house = item.house;\n\n      // проверка что адрес был выбран из списка\n      this.checkFromSelect = true;\n    },\n    async fetchAddress() {\n      let apiRes = null;\n      try {\n        const {\n          data\n        } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/address`);\n        this.address = data;\n\n        // по умолчанию первый отмечен\n        if (this.address.length > 0) {\n          this.addressRadio = this.address[0].id;\n        }\n      } catch (err) {\n        apiRes = err.response.status;\n      } finally {\n        if (apiRes == 404) {\n          this.$router.push(\"/rol-shop/404\");\n        }\n      }\n    },\n    async fetchRestaurant() {\n      try {\n        const {\n          data\n        } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/restaurant?city=${this.cityRadio2}`);\n        this.restaurants = data;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    async fetchProduct() {\n      let apiRes = null;\n      try {\n        this.sliderLoading = true;\n        const {\n          data\n        } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/items?category=drinks`);\n        this.products = data.map(obj => ({\n          ...obj,\n          isAdded: false,\n          count: 1\n        }));\n      } catch (err) {\n        apiRes = err.response.status;\n      } finally {\n        this.sliderLoading = false;\n        if (apiRes == 404) {\n          this.$router.push(\"/rol-shop/404\");\n        }\n      }\n    },\n    geocoderCoord(lat, long) {\n      this.lat = lat;\n      this.long = long;\n\n      // скрытие блока при клике по карте\n      this.$store.commit(\"map/setDeliveryCheck\", false);\n    },\n    async removeAddress() {\n      await axios.delete(`https://c2ff7a8de0a119c8.mokky.dev/address/${this.addressRadio}`);\n      let index = this.address.findIndex(item => item.id == this.addressRadio);\n      if (index !== -1) {\n        this.address.splice(index, 1);\n      }\n\n      // первый адрес отмечен\n      if (this.address.length > 0) {\n        this.addressRadio = this.address[0].id;\n      }\n    },\n    sumbitForm(forName) {\n      forName.validate(valid => {\n        if (valid) {\n          this.postAddress().then(() => {\n            this.addAddress = false;\n            this.fetchAddress();\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    async postAddress() {\n      try {\n        this.loadingPostAddress = true;\n        if (!this.repeatAddress(this.form.address, this.form.house, this.form.input, this.form.floor, this.form.apartment, this.cityRadio1)) {\n          const {\n            data\n          } = await axios.post(`https://c2ff7a8de0a119c8.mokky.dev/address`, {\n            address: this.form.address,\n            house: this.form.house,\n            input: this.form.input,\n            floor: this.form.floor,\n            apartment: this.form.apartment,\n            city: this.cityRadio1\n          });\n        }\n        this.form.address = \"\";\n        this.form.house = \"\";\n        this.form.input = \"\";\n        this.form.floor = \"\";\n        this.form.apartment = \"\";\n      } catch (err) {\n        console.log(err);\n      } finally {\n        this.loadingPostAddress = false;\n      }\n    },\n    filterArray(input, cb) {\n      const results = this.restaurants.filter(element => element.address.toLowerCase().includes(input.toLowerCase()));\n      cb(results);\n    },\n    handleSelect(item) {\n      // ресторан из списка\n      this.fromSelectRestaurant = true;\n      this.form.restaurant = item.address;\n    },\n    async validForms() {\n      if (!this.ruleFormRef3) return;\n      await this.ruleFormRef3.validate((valid, fields) => {\n        if (valid) {\n          this.validForm1 = true;\n        }\n      });\n      if (this.tab === \"tab_2\") {\n        await this.ruleFormRef2.validate((valid, fields) => {\n          if (valid) {\n            this.validForm2 = true;\n          }\n        });\n      }\n      if (this.tab === \"tab_1\" && (this.addAddress || this.address.length === 0)) {\n        await this.ruleFormRef1.validate((valid, fields) => {\n          if (valid) {\n            this.validForm3 = true;\n          }\n        });\n      }\n    },\n    generateTimeOptions() {\n      this.optionsTime = [];\n      if (this.selectDay === this.optionsDay[0].value) {\n        let currentDate = new Date();\n        let hours = currentDate.getHours();\n        let minutes = currentDate.getMinutes();\n        this.optionsTime.push({\n          value: `${hours}:${minutes}`,\n          label: \"Ближайшее\"\n        });\n        if (minutes > 30) {\n          this.optionsTime.push({\n            value: `${hours + 2}:30`,\n            label: `${hours + 2}:30`\n          });\n          for (let i = hours + 3; i < 23; i++) {\n            this.optionsTime.push({\n              value: `${i}:00`,\n              label: `${i}:00`\n            });\n            this.optionsTime.push({\n              value: `${i}:30`,\n              label: `${i}:30`\n            });\n          }\n        } else {\n          for (let i = hours + 2; i < 23; i++) {\n            this.optionsTime.push({\n              value: `${i}:00`,\n              label: `${i}:00`\n            });\n            this.optionsTime.push({\n              value: `${i}:30`,\n              label: `${i}:30`\n            });\n          }\n        }\n      } else {\n        for (let i = 11; i < 23; i++) {\n          this.optionsTime.push({\n            value: `${i}:00`,\n            label: `${i}:00`\n          });\n          this.optionsTime.push({\n            value: `${i}:30`,\n            label: `${i}:30`\n          });\n        }\n      }\n      this.selectTime = this.optionsTime[0].value;\n    },\n    postOrder() {\n      this.validForms().then(() => {\n        if (this.tab === \"tab_2\") {\n          //самовывоз\n          if (this.validForm1 && this.validForm2) {\n            this.createOrder();\n          }\n        } else if (this.tab === \"tab_1\" && (this.addAddress || this.address.length === 0)) {\n          // доставка и добавить\n          if (this.validForm1 && this.validForm3) {\n            this.createOrder();\n          }\n        } else {\n          // доставка и сохраненный адрес\n          if (this.validForm1) {\n            this.createOrder();\n          }\n        }\n      });\n    },\n    async createOrder() {\n      try {\n        this.isCreatingOrder = true;\n        const info = {\n          name: this.form.name,\n          tel: this.form.tel,\n          day: this.selectDay,\n          time: this.selectTime,\n          year: new Date().getFullYear(),\n          payment: this.tab === \"tab_1\" ? this.paymentDelivery : this.paymentPickup,\n          items: this.cart,\n          totalPrice: this.totalPrice,\n          animals: this.animals,\n          methods: this.tab === \"tab_1\" ? \"Доставка\" : \"Самовывоз\",\n          address: \"\",\n          options: \"\",\n          number: \"\",\n          status: 0\n        };\n\n        // сдача\n        if (this.paymentDelivery === \"Наличными курьеру\" && this.tab === \"tab_1\" || this.paymentPickup === \"Наличными в точке выдачи\" && this.tab === \"tab_2\") {\n          info.change = this.form.change ? this.form.change : \"без сдачи\";\n        }\n        if (this.form.comment1) {\n          info.regularSticks = this.form.comment1;\n        }\n        if (this.form.comment2) {\n          info.traningSticks = this.form.comment2;\n        }\n        if (this.form.note) {\n          info.note = this.form.note;\n        }\n        if (this.freeProduct.length > 0) {\n          info.freeProduct = this.freeProduct;\n        }\n        if (this.tab === \"tab_1\" && !this.addAddress && this.address.length > 0) {\n          const result = this.address.find(item => {\n            return item.id === this.addressRadio;\n          });\n          info.address = result;\n          info.options = this.doorOptions1;\n        }\n        if (this.tab === \"tab_1\" && (this.addAddress || this.address.length === 0)) {\n          const result = {\n            city: this.cityRadio1,\n            address: this.form.address,\n            house: this.form.house,\n            input: this.form.input,\n            floor: this.form.floor,\n            apartment: this.form.apartment\n          };\n          info.address = result;\n          info.options = this.doorOptions2;\n        }\n        if (this.tab === \"tab_2\") {\n          const result = {\n            city: this.cityRadio2,\n            address: this.form.restaurant\n          };\n          info.address = result;\n        }\n\n        // история заказов в localStorage\n        this.historyOrder = Number(this.historyOrder) + 1;\n        localStorage.setItem(\"order\", JSON.stringify(this.historyOrder));\n        info.number = this.historyOrder;\n        const {\n          data\n        } = await axios.post(`https://c2ff7a8de0a119c8.mokky.dev/orders`, info);\n        this.cart = [];\n      } catch (err) {\n        console.log(err);\n      } finally {\n        this.isCreatingOrder = false;\n        this.orderDone = true;\n      }\n    },\n    async fetchOrder(number) {\n      let apiRes = null;\n      try {\n        const {\n          data\n        } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/orders?number=${number}`);\n        this.resultsOrder = data[0];\n        this.cart = this.resultsOrder.items;\n      } catch (err) {\n        if (err.response) {\n          apiRes = err.response.status;\n        }\n      } finally {\n        if (apiRes == 404) {\n          this.$router.push(\"/rol-shop/404\");\n        }\n      }\n    },\n    onRepeatOrder(number) {\n      this.fetchOrder(number).then(() => {\n        // включение кнопки для карточек и слайдера и favorites\n        // this.sushi = this.updateItemsStatus(this.sushi);\n        // this.rolls = this.updateItemsStatus(this.rolls);\n        // this.sets = this.updateItemsStatus(this.sets);\n        // this.snacks = this.updateItemsStatus(this.snacks);\n        // this.drinks = this.updateItemsStatus(this.drinks);\n        // this.slides = this.updateItemsStatus(this.slides);\n        // this.favorites = this.updateItemsStatus(this.favorites);\n        // this.categores = this.updateItemsStatus(this.categores);\n        // this.slidesTovar = this.updateItemsStatus(this.slidesTovar);\n        this.products = this.updateItemsStatus(this.products);\n        // this.cart.some((cartItem) => cartItem.id === this.product.id)\n        //   ? (this.product.isAdded = true)\n        //   : null;\n\n        // заполнение полей\n        this.form.name = this.resultsOrder.name;\n        this.form.tel = this.resultsOrder.tel;\n        this.form.change = this.resultsOrder.change !== \"без сдачи\" ? this.resultsOrder.change : \"\";\n        this.animals = this.resultsOrder.animals;\n        if (this.resultsOrder.methods === \"Доставка\") {\n          this.tab = \"tab_1\";\n          this.paymentDelivery = this.resultsOrder.payment;\n          if (this.repeatAddress(\n          //если адрес есть в сохраненных\n          this.resultsOrder.address.address, this.resultsOrder.address.house, this.resultsOrder.address.input, this.resultsOrder.address.floor, this.resultsOrder.address.apartment, this.resultsOrder.address.city)) {\n            this.addressRadio = this.idAddress;\n            this.doorOptions1 = this.resultsOrder.options;\n          } else {\n            // не сохраненный адрес\n            this.addAddress = true;\n            this.cityRadio1 = this.resultsOrder.address.city;\n            this.form.address = this.resultsOrder.address.address;\n            this.form.house = this.resultsOrder.address.house;\n            this.form.input = this.resultsOrder.address.input;\n            this.form.floor = this.resultsOrder.address.floor;\n            this.form.apartment = this.resultsOrder.address.apartment;\n            this.doorOptions2 = this.resultsOrder.options;\n          }\n        }\n        if (this.resultsOrder.methods === \"Самовывоз\") {\n          this.tab = \"tab_2\";\n          this.paymentPickup = this.resultsOrder.payment;\n          this.cityRadio2 = this.resultsOrder.address.city;\n          this.form.restaurant = this.resultsOrder.address.address;\n          this.fetchRestaurant();\n        }\n        if (this.resultsOrder.regularSticks) {\n          this.form.comment1 = this.resultsOrder.regularSticks;\n        }\n        if (this.resultsOrder.traningSticks) {\n          this.form.comment2 = this.resultsOrder.traningSticks;\n        }\n        if (this.resultsOrder.note) {\n          this.form.note = this.resultsOrder.note;\n        }\n      });\n    },\n    updateItemsStatus(items) {\n      return items.map(item => ({\n        ...item,\n        isAdded: this.cart.some(cartItem => cartItem.id === item.id)\n      }));\n    },\n    repeatAddress(address, house, input, floor, apartment, city) {\n      for (let item of this.address) {\n        if (item.address === address && item.house === house && item.input === input && item.floor === floor && item.apartment === apartment && item.city === city) {\n          this.idAddress = item.id;\n          return true;\n        }\n      }\n      return false;\n    }\n  },\n  mounted() {\n    // значения по умолчанию\n    this.selectDay = this.optionsDay[0].value;\n    // генерация времени\n    this.generateTimeOptions();\n    // координаты центра по умолчанию\n    this.lat = this.coord[0];\n    this.long = this.coord[1];\n    // slider\n    this.fetchProduct().then(() => {\n      this.products = this.products.map(item => ({\n        ...item,\n        isAdded: this.cart.some(cartItem => cartItem.id === item.id)\n      }));\n    });\n\n    // прослушивание событие с корзины\n    // emitter.on(\"is-order-fetching\", this.onRepeatOrder);\n\n    // если есть параметр repeat повтор заказа\n    if (this.$route.query.repeat) {\n      this.fetchAddress().then(() => {\n        const number = this.$route.query.repeat;\n        this.onRepeatOrder(number);\n      });\n    } else {\n      this.fetchAddress();\n    }\n  },\n  computed: {\n    ...mapState({\n      deliveryPossible: state => state.map.deliveryPossible,\n      deliveryCheck: state => state.map.deliveryCheck,\n      addressDialog: state => state.map.address,\n      loadingDeliveryCheck: state => state.map.loading,\n      loadingAddress: state => state.map.loadingAddress\n    }),\n    checkCart() {\n      return this.cart.length === 0;\n    },\n    repeatOnPage() {\n      return Object.prototype.hasOwnProperty.call(this.$route.query, \"repeat\");\n    }\n  },\n  watch: {\n    repeatOnPage(value) {\n      // если повтор заказа был сделан когда страница уже была открыта\n      if (value) {\n        const number = this.$route.query.repeat;\n        this.onRepeatOrder(number);\n      }\n    },\n    checkCart(value) {\n      if (value) {\n        if (!this.orderDone) {\n          // удаление query из запроса если нет товаров в корзине\n          this.$router.push({\n            path: \"/rol-shop/order\"\n          });\n        } else {\n          this.$router.push({\n            path: \"/rol-shop/success\"\n          });\n        }\n      }\n    }\n  },\n  beforeRouteEnter(to, from, next) {\n    next(vm => {\n      vm.setPaths(vm.paths);\n    });\n  },\n  setup(props) {\n    const {\n      address,\n      area\n    } = inject(\"address\");\n    const {\n      cart,\n      addToCart,\n      removeFromCart,\n      totalPrice,\n      historyOrder\n    } = inject(\"cart\");\n    const {\n      sushi,\n      rolls,\n      sets,\n      snacks,\n      drinks,\n      slides,\n      favorites,\n      categores,\n      product,\n      slidesTovar,\n      products\n    } = inject(\"items\");\n    const form = ref({\n      name: \"\",\n      tel: \"\",\n      address: \"\",\n      house: \"\",\n      input: \"\",\n      floor: \"\",\n      apartment: \"\",\n      restaurant: \"\",\n      comment1: \"\",\n      comment2: \"\",\n      note: \"\",\n      change: \"\",\n      code: \"\"\n    });\n    const ruleFormRef1 = ref({});\n    const ruleFormRef2 = ref({});\n    const ruleFormRef3 = ref({});\n    const ruleFormRef4 = ref({});\n    const ruleFormRef5 = ref({});\n    const ruleFormRef6 = ref({});\n    const ruleFormRef7 = ref({});\n    const ruleFormRef8 = ref({});\n    const code = ref();\n    const codeValid = ref();\n    const codeLoading = ref(false);\n    const freeProduct = ref([]);\n    const freeLoading = ref(false);\n    const store = useStore();\n    var arrayCoord = computed(() => store.state.map.arrayCoord);\n    var deliveryPossible = computed(() => store.state.map.deliveryPossible);\n    var checkFromSelect = ref(false);\n    var fromSelectRestaurant = ref(false);\n\n    // кастомное правило\n    const checkNumber = (rule, value, callback) => {\n      if (!Number.isInteger(value) && value) {\n        callback(new Error(\"Введите число!\"));\n      } else {\n        if (value <= 0 && value) {\n          callback(new Error(\"Неверное кол-во!\"));\n        } else {\n          callback();\n        }\n      }\n    };\n\n    // получение промокода\n    const fetchCode = async () => {\n      try {\n        codeLoading.value = true;\n        const {\n          data\n        } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/code`);\n        code.value = data[0].code;\n      } catch (err) {\n        console.log(err);\n      } finally {\n        codeLoading.value = false;\n      }\n    };\n\n    // получение товаров по промокоду\n    const fetchFree = async () => {\n      try {\n        freeLoading.value = true;\n        const {\n          data\n        } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/items?category=snacks&id=41`);\n        freeProduct.value = data.map(obj => ({\n          ...obj,\n          count: 1\n        }));\n      } catch (err) {\n        console.log(err);\n      } finally {\n        freeLoading.value = false;\n      }\n    };\n    const checkCode = () => {\n      fetchCode().then(() => {\n        if (code.value === form.value.code) {\n          codeValid.value = true;\n          fetchFree();\n        } else {\n          codeValid.value = false;\n        }\n      });\n    };\n    const cancelCode = () => {\n      freeProduct.value = [];\n      codeValid.value = \"\";\n      form.value.code = \"\";\n    };\n\n    // проверка адреса на доступность для доставки\n    const checkGeo = (rule, value, callback) => {\n      let possible = false;\n      let address = `${props.cityRadio1}, ${value}`;\n      store.dispatch(\"map/geocoderAddress\", address).then(() => {\n        store.dispatch(\"map/checkAddress\", {\n          lat: arrayCoord.value[0],\n          long: arrayCoord.value[1]\n        }).then(() => {\n          possible = deliveryPossible.value;\n          if (value && !possible) {\n            callback(new Error(\"Доставка по этому адресу не осуществляется!\"));\n          } else {\n            callback();\n          }\n        });\n      });\n    };\n\n    // проверка что адрес был выбран из списка\n    const checkSelect = (rule, value, callback) => {\n      if (!checkFromSelect.value) {\n        callback(new Error(\"Адрес не выбран!\"));\n      } else {\n        callback();\n      }\n    };\n\n    // проверка что ресторан был выбран из списка\n    const checkRestaurant = (rule, value, callback) => {\n      if (!fromSelectRestaurant.value) {\n        callback(new Error(\"Адрес не выбран!\"));\n      } else {\n        callback();\n      }\n    };\n    const rules = ref({\n      address: [{\n        required: true,\n        message: \"Нужно заполнить!\",\n        trigger: \"blur\"\n      }, {\n        min: 5,\n        message: \"Слишком короткий!\",\n        trigger: \"blur\"\n      }, {\n        validator: checkGeo,\n        trigger: \"submit\"\n      }, {\n        validator: checkSelect,\n        trigger: \"submit\"\n      }],\n      restaurant: [{\n        required: true,\n        message: \"Нужно заполнить!\",\n        trigger: \"blur\"\n      }, {\n        min: 5,\n        message: \"Слишком короткий!\",\n        trigger: \"blur\"\n      }, {\n        validator: checkRestaurant,\n        trigger: \"submit\"\n      }],\n      name: [{\n        required: true,\n        message: \"Нужно заполнить!\",\n        trigger: \"blur\"\n      }, {\n        min: 3,\n        message: \"Слишком короткий!\",\n        trigger: \"blur\"\n      }],\n      tel: [{\n        required: true,\n        message: \"Нужно заполнить!\",\n        trigger: \"blur\"\n      }, {\n        min: 18,\n        message: \"Слишком короткий!\",\n        trigger: \"blur\"\n      }],\n      number: [{\n        validator: checkNumber,\n        trigger: \"blur\"\n      }]\n    });\n    const onClickAddPlus = item => {\n      if (!item.isAdded) {\n        addToCart(item);\n      } else {\n        removeFromCart(item);\n      }\n    };\n    return {\n      address,\n      form,\n      ruleFormRef1,\n      ruleFormRef2,\n      ruleFormRef3,\n      ruleFormRef4,\n      ruleFormRef5,\n      ruleFormRef6,\n      ruleFormRef7,\n      ruleFormRef8,\n      rules,\n      cart,\n      onClickAddPlus,\n      products,\n      totalPrice,\n      checkCode,\n      codeValid,\n      codeLoading,\n      freeProduct,\n      cancelCode,\n      freeLoading,\n      historyOrder,\n      sushi,\n      rolls,\n      sets,\n      snacks,\n      drinks,\n      slides,\n      favorites,\n      categores,\n      product,\n      slidesTovar,\n      area,\n      checkFromSelect,\n      fromSelectRestaurant\n    };\n  }\n};","map":{"version":3,"names":["axios","inject","ref","computed","turf","emitter","mapActions","mapMutations","mapState","useStore","EpInfoFilled","LineMdConfirm","data","currentDate","Date","data1","data2","data3","data4","data5","setDate","getDate","month1","getMonth","month2","month3","month4","month5","input","dialogVisible","tab","addAddress","paths","name","path","loadingPostAddress","restaurants","optionsDay","value","label","optionsTime","selectDay","selectTime","lat","long","svg","paymentDelivery","paymentPickup","sliderLoading","validForm1","validForm2","validForm3","isCreatingOrder","orderId","animals","doorOptions1","doorOptions2","addressRadio","cityRadio1","cityRadio2","resultsOrder","coord","$store","state","map","result","orderDone","idAddress","components","methods","checkAddress","setPaths","fetchAddressSelect","cb","get","area","results","item","address","title","text","house","component","find","pl","kind","err","console","log","handleSelectAddress","form","checkFromSelect","fetchAddress","apiRes","length","id","response","status","$router","push","fetchRestaurant","fetchProduct","products","obj","isAdded","count","geocoderCoord","commit","removeAddress","delete","index","findIndex","splice","sumbitForm","forName","validate","valid","postAddress","then","repeatAddress","floor","apartment","post","city","filterArray","filter","element","toLowerCase","includes","handleSelect","fromSelectRestaurant","restaurant","validForms","ruleFormRef3","fields","ruleFormRef2","ruleFormRef1","generateTimeOptions","hours","getHours","minutes","getMinutes","i","postOrder","createOrder","info","tel","day","time","year","getFullYear","payment","items","cart","totalPrice","options","number","change","comment1","regularSticks","comment2","traningSticks","note","freeProduct","historyOrder","Number","localStorage","setItem","JSON","stringify","fetchOrder","onRepeatOrder","updateItemsStatus","some","cartItem","mounted","$route","query","repeat","deliveryPossible","deliveryCheck","addressDialog","loadingDeliveryCheck","loading","loadingAddress","checkCart","repeatOnPage","Object","prototype","hasOwnProperty","call","watch","beforeRouteEnter","to","from","next","vm","setup","props","addToCart","removeFromCart","sushi","rolls","sets","snacks","drinks","slides","favorites","categores","product","slidesTovar","code","ruleFormRef4","ruleFormRef5","ruleFormRef6","ruleFormRef7","ruleFormRef8","codeValid","codeLoading","freeLoading","store","arrayCoord","checkNumber","rule","callback","isInteger","Error","fetchCode","fetchFree","checkCode","cancelCode","checkGeo","possible","dispatch","checkSelect","checkRestaurant","rules","required","message","trigger","min","validator","onClickAddPlus"],"sources":["C:\\gitPages\\rol-shop\\src\\pages\\OrderPlacing.vue"],"sourcesContent":["<template>\r\n  <div class=\"order\">\r\n    <div class=\"container\">\r\n      <div class=\"order__inner\">\r\n        <Category class=\"category-pages\" />\r\n        <Crumbs :paths=\"paths\" class=\"crumbs\" />\r\n\r\n        <h1 class=\"order-title\">Оформление заказа</h1>\r\n        <div class=\"order-wrapper\">\r\n          <div class=\"order-left\">\r\n            <div class=\"order__person\">\r\n              <h4 class=\"order__person-title\">Личные данные</h4>\r\n              <el-form ref=\"ruleFormRef3\" :model=\"form\">\r\n                <div class=\"order__person-inputs\">\r\n                  <el-form-item label=\"Имя\" prop=\"name\" :rules=\"rules.name\">\r\n                    <el-input v-model=\"form.name\" placeholder=\"Ввод\" />\r\n                  </el-form-item>\r\n                  <el-form-item label=\"Телефон\" prop=\"tel\" :rules=\"rules.tel\">\r\n                    <el-input\r\n                      v-model=\"form.tel\"\r\n                      v-mask=\"['+7 (###) ###-##-##']\"\r\n                      placeholder=\"Ввод\"\r\n                    />\r\n                  </el-form-item>\r\n                </div>\r\n              </el-form>\r\n            </div>\r\n            <div class=\"order__delivery\">\r\n              <div class=\"order__delivery-head\">\r\n                <h4 class=\"order__delivery-title\">Доставка</h4>\r\n                <el-tooltip content=\"Проверьте входит ли ваш адрес в зону доставки\">\r\n                  <el-button\r\n                    plain\r\n                    @click=\"\r\n                      dialogVisible = true;\r\n                      this.$store.commit('map/setDeliveryCheck', false);\r\n                    \"\r\n                  >\r\n                    Зона доставки\r\n                    <img src=\"@/img/icon/info.svg\" alt=\"\" />\r\n                  </el-button>\r\n                </el-tooltip>\r\n                <el-dialog v-model=\"dialogVisible\" title=\"Зона доставки\" align-center>\r\n                  <p class=\"order-dialog__text\">\r\n                    Выберите место на карте, а мы проверим возможна ли доставка в эту зону\r\n                  </p>\r\n                  <div\r\n                    v-if=\"deliveryCheck\"\r\n                    v-loading=\"loadingDeliveryCheck\"\r\n                    :element-loading-spinner=\"svg\"\r\n                    element-loading-svg-view-box=\"-10, -10, 50, 50\"\r\n                    class=\"order-dialog__check\"\r\n                  >\r\n                    <img\r\n                      class=\"order-dialog__check-img\"\r\n                      :src=\"\r\n                        deliveryPossible\r\n                          ? require('@/img/icon/check-green.svg')\r\n                          : require('@/img/icon/none.svg')\r\n                      \"\r\n                      alt=\"\"\r\n                    />\r\n                    <p class=\"order-dialog__check-address\">{{ addressDialog }}</p>\r\n                    <span>—</span>\r\n                    <p\r\n                      :class=\"\r\n                        deliveryPossible\r\n                          ? 'order-dialog__check-green'\r\n                          : 'order-dialog__check-red'\r\n                      \"\r\n                    >\r\n                      {{ deliveryPossible ? \"Доставка возможна\" : \"Доставка невозможна\" }}\r\n                    </p>\r\n                  </div>\r\n                  <ul class=\"order-dialog__list\">\r\n                    <li class=\"order-dialog__list-item\">\r\n                      <img src=\"@/img/icon/circle-1.svg\" alt=\"zone\" />\r\n                      <span>—</span>\r\n                      <p class=\"order-dialog__list-text\">Бесплатная доставка</p>\r\n                    </li>\r\n                    <li class=\"order-dialog__list-item\">\r\n                      <img src=\"@/img/icon/circle-2.svg\" alt=\"zone\" />\r\n                      <span>—</span>\r\n                      <p class=\"order-dialog__list-text\">Платная доставка</p>\r\n                    </li>\r\n                    <li class=\"order-dialog__list-item\">\r\n                      <img src=\"@/img/icon/circle-3.svg\" alt=\"zone\" />\r\n                      <span>—</span>\r\n                      <p class=\"order-dialog__list-text\">Доставку не делаем</p>\r\n                    </li>\r\n                  </ul>\r\n                  <div class=\"destination__map\">\r\n                    <Map :geocoderCoord=\"geocoderCoord\" ref=\"Map\" />\r\n                  </div>\r\n                  <app-button\r\n                    class=\"order-dialog__btn\"\r\n                    @click=\"checkAddress({ lat, long })\"\r\n                    :disabled=\"loadingDeliveryCheck\"\r\n                  >\r\n                    <img src=\"@/img/icon/location-white.svg\" alt=\"\" />\r\n                    Проверить адрес\r\n                  </app-button>\r\n                </el-dialog>\r\n              </div>\r\n              <p class=\"order__delivery-text\">\r\n                Зона бесплатной доставки уточняется у оператора\r\n              </p>\r\n              <div class=\"tabs-wrapper\">\r\n                <div\r\n                  class=\"tabs order__tabs\"\r\n                  :class=\"tab === 'tab_1' ? 'tabs-active-1' : 'tabs-active-2'\"\r\n                >\r\n                  <div\r\n                    class=\"tab\"\r\n                    @click=\"tab = 'tab_1'\"\r\n                    :class=\"{ 'tab--is-active': tab === 'tab_1' }\"\r\n                  >\r\n                    Доставка\r\n                  </div>\r\n                  <div\r\n                    class=\"tab\"\r\n                    @click=\"(tab = 'tab_2'), fetchRestaurant()\"\r\n                    :class=\"{ 'tab--is-active': tab === 'tab_2' }\"\r\n                  >\r\n                    Самовывоз\r\n                  </div>\r\n                </div>\r\n                <div class=\"tabs__content\">\r\n                  <div v-if=\"tab === 'tab_1'\" class=\"tab__content\">\r\n                    <p class=\"delivery__text\">Минимальная сумма заказа 400 грн</p>\r\n                    <div class=\"delivery__old\" v-if=\"!addAddress && address.length > 0\">\r\n                      <ul class=\"address__list\" v-auto-animate>\r\n                        <label\r\n                          class=\"address__list-item\"\r\n                          v-for=\"(item, index) in address\"\r\n                          :key=\"index\"\r\n                        >\r\n                          <div class=\"address__info\">\r\n                            <p class=\"address__address\">\r\n                              {{ `${item.city}, ${item.address}` }}\r\n                            </p>\r\n                            <p class=\"address__other\">\r\n                              Подьезд {{ item.input ? item.input : \"(-)\" }}, этаж\r\n                              {{ item.floor ? item.floor : \"(-)\" }}, квартира\r\n                              {{ item.apartment ? item.apartment : \"(-)\" }}\r\n                            </p>\r\n                          </div>\r\n\r\n                          <input\r\n                            type=\"radio\"\r\n                            name=\"address\"\r\n                            v-model=\"addressRadio\"\r\n                            :value=\"item.id\"\r\n                          />\r\n                        </label>\r\n                      </ul>\r\n                      <div class=\"delivery__btns\">\r\n                        <button class=\"delivery__btn\" @click=\"addAddress = true\">\r\n                          Добавить новый адрес\r\n                        </button>\r\n                        <el-popconfirm\r\n                          width=\"220\"\r\n                          title=\"Вы уверены что хотите удалить адрес?\"\r\n                          @confirm=\"removeAddress\"\r\n                          confirm-button-text=\"да\"\r\n                          cancel-button-text=\"нет\"\r\n                          icon-color=\"#626AEF\"\r\n                          :icon=\"EpInfoFilled\"\r\n                        >\r\n                          <template #reference>\r\n                            <button class=\"delivery__btn\">Удалить адрес</button>\r\n                          </template>\r\n                        </el-popconfirm>\r\n                      </div>\r\n                      <div class=\"delivery__other\">\r\n                        <label for=\"delivery__other-1\" class=\"delivery__other-label\">\r\n                          <input\r\n                            class=\"delivery__other-check\"\r\n                            type=\"checkbox\"\r\n                            id=\"delivery__other-1\"\r\n                            v-model=\"doorOptions1\"\r\n                            value=\"Не звонить в дверь\"\r\n                          />\r\n                          Не звонить в дверь\r\n                        </label>\r\n                        <label for=\"delivery__other-2\" class=\"delivery__other-label\">\r\n                          <input\r\n                            class=\"delivery__other-check\"\r\n                            type=\"checkbox\"\r\n                            id=\"delivery__other-2\"\r\n                            v-model=\"doorOptions1\"\r\n                            value=\"Оставить под дверью\"\r\n                          />\r\n                          Оставить под дверью\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"delivery__new\" v-if=\"addAddress || address.length === 0\">\r\n                      <el-form ref=\"ruleFormRef1\" :model=\"form\">\r\n                        <div class=\"delivery__new-city\">\r\n                          <label for=\"city-1\" class=\"delivery__new-label\">\r\n                            <input\r\n                              type=\"radio\"\r\n                              name=\"city\"\r\n                              id=\"city-1\"\r\n                              v-model=\"cityRadio1\"\r\n                              value=\"Киев\"\r\n                            />\r\n                            <p>Киев</p>\r\n                          </label>\r\n                          <label for=\"city-2\" class=\"delivery__new-label\">\r\n                            <input\r\n                              type=\"radio\"\r\n                              name=\"city\"\r\n                              id=\"city-2\"\r\n                              v-model=\"cityRadio1\"\r\n                              value=\"Днепр\"\r\n                            />\r\n                            <p>Днепр</p>\r\n                          </label>\r\n                          <label for=\"city-3\" class=\"delivery__new-label\">\r\n                            <input\r\n                              type=\"radio\"\r\n                              name=\"city\"\r\n                              id=\"city-3\"\r\n                              v-model=\"cityRadio1\"\r\n                              value=\"Харьков\"\r\n                            />\r\n                            <p>Харьков</p>\r\n                          </label>\r\n                          <label for=\"city-4\" class=\"delivery__new-label\">\r\n                            <input\r\n                              type=\"radio\"\r\n                              name=\"city\"\r\n                              id=\"city-4\"\r\n                              v-model=\"cityRadio1\"\r\n                              value=\"Одесса\"\r\n                            />\r\n                            <p>Одесса</p>\r\n                          </label>\r\n                        </div>\r\n                        <el-form-item\r\n                          label=\"Улица, дом\"\r\n                          prop=\"address\"\r\n                          :rules=\"rules.address\"\r\n                        >\r\n                          <el-autocomplete\r\n                            v-model=\"form.address\"\r\n                            :fetch-suggestions=\"fetchAddressSelect\"\r\n                            :trigger-on-focus=\"true\"\r\n                            :select-when-unmatched=\"false\"\r\n                            placeholder=\"Введите адрес\"\r\n                            @select=\"handleSelectAddress\"\r\n                            @input=\"this.checkFromSelect = false\"\r\n                            :debounce=\"1000\"\r\n                            clearable\r\n                            fit-input-width\r\n                            popper-class=\"my-autocomplete\"\r\n                            class=\"destination__form-search\"\r\n                          >\r\n                            <template #default=\"{ item }\">\r\n                              <div class=\"address\">{{ item.address }}</div>\r\n                            </template>\r\n                          </el-autocomplete>\r\n                        </el-form-item>\r\n                        <div class=\"delivery__new-inputs\">\r\n                          <el-form-item label=\"Дом\">\r\n                            <el-input v-model=\"form.house\" placeholder=\"Ввод\" />\r\n                          </el-form-item>\r\n                          <el-form-item label=\"Подъезд\">\r\n                            <el-input v-model=\"form.input\" placeholder=\"Ввод\" />\r\n                          </el-form-item>\r\n                          <el-form-item label=\"Этаж\">\r\n                            <el-input v-model=\"form.floor\" placeholder=\"Ввод\" />\r\n                          </el-form-item>\r\n                          <el-form-item label=\"Квартира\">\r\n                            <el-input v-model=\"form.apartment\" placeholder=\"Ввод\" />\r\n                          </el-form-item>\r\n                        </div>\r\n                        <div class=\"delivery__other\">\r\n                          <label for=\"delivery__other-1\" class=\"delivery__other-label\">\r\n                            <input\r\n                              class=\"delivery__other-check\"\r\n                              type=\"checkbox\"\r\n                              id=\"delivery__other-1\"\r\n                              v-model=\"doorOptions2\"\r\n                              value=\"Не звонить в дверь\"\r\n                            />\r\n                            <div class=\"delivery__other-check\">\r\n                              <LineMdConfirm />\r\n                            </div>\r\n                            Не звонить в дверь\r\n                          </label>\r\n                          <label for=\"delivery__other-2\" class=\"delivery__other-label\">\r\n                            <input\r\n                              class=\"delivery__other-check\"\r\n                              type=\"checkbox\"\r\n                              id=\"delivery__other-2\"\r\n                              v-model=\"doorOptions2\"\r\n                              value=\"Оставить под дверью\"\r\n                            />\r\n                            <div class=\"delivery__other-check\">\r\n                              <LineMdConfirm />\r\n                            </div>\r\n                            Оставить под дверью\r\n                          </label>\r\n                        </div>\r\n                        <div class=\"delivery__new-back\">\r\n                          <el-form-item>\r\n                            <button\r\n                              class=\"delivery__new-back__btn\"\r\n                              @click.prevent=\"sumbitForm(ruleFormRef1)\"\r\n                              :disabled=\"\r\n                                loadingPostAddress ||\r\n                                loadingDeliveryCheck ||\r\n                                loadingAddress\r\n                              \"\r\n                            >\r\n                              <div\r\n                                v-if=\"\r\n                                  loadingPostAddress ||\r\n                                  loadingDeliveryCheck ||\r\n                                  loadingAddress\r\n                                \"\r\n                                class=\"delivery__new-back__box\"\r\n                              >\r\n                                <div class=\"custom-loading\">\r\n                                  <svg class=\"circular\" viewBox=\"-10, -10, 50, 50\">\r\n                                    <path\r\n                                      class=\"path\"\r\n                                      d=\"\r\n                                          M 30 15\r\n                                          L 28 17\r\n                                          M 25.61 25.61\r\n                                          A 15 15, 0, 0, 1, 15 30\r\n                                          A 15 15, 0, 1, 1, 27.99 7.5\r\n                                          L 15 15\r\n                                        \"\r\n                                      style=\"stroke-width: 4px; fill: rgba(0, 0, 0, 0)\"\r\n                                    />\r\n                                  </svg>\r\n                                </div>\r\n                                <span class=\"delivery__new-back__loading\">{{\r\n                                  loadingDeliveryCheck || loadingAddress\r\n                                    ? \"Проверка адреса\"\r\n                                    : loadingPostAddress\r\n                                    ? \"Идет отправка\"\r\n                                    : \"\"\r\n                                }}</span>\r\n                              </div>\r\n                              <div v-else class=\"delivery__new-back__box\">\r\n                                <img src=\"@/img/icon/arrow-green.svg\" alt=\"\" />\r\n                                <span>Назад</span>\r\n                              </div>\r\n                            </button>\r\n                          </el-form-item>\r\n                          <el-tooltip\r\n                            content=\"Не забудьте нажать кнопку 'Назад' иначе адрес не сохранится\"\r\n                          >\r\n                            <p class=\"delivery__new-back__text\">\r\n                              Адрес доставки сохранится автоматически\r\n                            </p>\r\n                          </el-tooltip>\r\n                        </div>\r\n                      </el-form>\r\n                    </div>\r\n                  </div>\r\n                  <div v-if=\"tab === 'tab_2'\" class=\"tab__content\">\r\n                    <el-form ref=\"ruleFormRef2\" :model=\"form\">\r\n                      <div class=\"delivery__new-city\">\r\n                        <label for=\"city-1\" class=\"delivery__new-label\">\r\n                          <input\r\n                            type=\"radio\"\r\n                            name=\"city\"\r\n                            id=\"city-1\"\r\n                            @change=\"fetchRestaurant(), (form.restaurant = '')\"\r\n                            v-model=\"cityRadio2\"\r\n                            value=\"Киев\"\r\n                          />\r\n                          <p>Киев</p>\r\n                        </label>\r\n                        <label for=\"city-2\" class=\"delivery__new-label\">\r\n                          <input\r\n                            type=\"radio\"\r\n                            name=\"city\"\r\n                            id=\"city-2\"\r\n                            @change=\"fetchRestaurant(), (form.restaurant = '')\"\r\n                            v-model=\"cityRadio2\"\r\n                            value=\"Днепр\"\r\n                          />\r\n                          <p>Днепр</p>\r\n                        </label>\r\n                        <label for=\"city-3\" class=\"delivery__new-label\">\r\n                          <input\r\n                            type=\"radio\"\r\n                            name=\"city\"\r\n                            id=\"city-3\"\r\n                            @change=\"fetchRestaurant(), (form.restaurant = '')\"\r\n                            v-model=\"cityRadio2\"\r\n                            value=\"Харьков\"\r\n                          />\r\n                          <p>Харьков</p>\r\n                        </label>\r\n                        <label for=\"city-4\" class=\"delivery__new-label\">\r\n                          <input\r\n                            type=\"radio\"\r\n                            name=\"city\"\r\n                            id=\"city-4\"\r\n                            @change=\"fetchRestaurant(), (form.restaurant = '')\"\r\n                            v-model=\"cityRadio2\"\r\n                            value=\"Одесса\"\r\n                          />\r\n                          <p>Одесса</p>\r\n                        </label>\r\n                      </div>\r\n                      <el-form-item\r\n                        label=\"Ресторан с которого будете забирать\"\r\n                        prop=\"restaurant\"\r\n                        :rules=\"rules.restaurant\"\r\n                      >\r\n                        <el-autocomplete\r\n                          v-model=\"form.restaurant\"\r\n                          :fetch-suggestions=\"filterArray\"\r\n                          placeholder=\"Введите адрес\"\r\n                          @select=\"handleSelect\"\r\n                          @input=\"this.fromSelectRestaurant = false\"\r\n                          :debounce=\"500\"\r\n                          clearable\r\n                          fit-input-width\r\n                          popper-class=\"my-autocomplete\"\r\n                          class=\"destination__form-search\"\r\n                        >\r\n                          <template #default=\"{ item }\">\r\n                            <div class=\"address\">{{ item.address }}</div>\r\n                          </template>\r\n                        </el-autocomplete>\r\n                      </el-form-item>\r\n                    </el-form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"order__time\">\r\n              <h3 class=\"order__time-title\">Время доставки</h3>\r\n              <p class=\"order__time-text\">Время доставки заказа уточните по телефону.</p>\r\n              <div class=\"order__time-selects\">\r\n                <div class=\"order__time-select\">\r\n                  <p class=\"order__time-select-title\">День</p>\r\n                  <el-select\r\n                    v-model=\"selectDay\"\r\n                    popper-class=\"order-select\"\r\n                    @change=\"generateTimeOptions\"\r\n                  >\r\n                    <el-option\r\n                      v-for=\"item in optionsDay\"\r\n                      :key=\"item.value\"\r\n                      :label=\"item.label\"\r\n                      :value=\"item.value\"\r\n                    >\r\n                      <span class=\"order__time-select-item\">{{ item.label }}</span>\r\n                    </el-option>\r\n                  </el-select>\r\n                </div>\r\n                <div class=\"order__time-select\">\r\n                  <p class=\"order__time-select-title\">Время</p>\r\n                  <el-select v-model=\"selectTime\" popper-class=\"order-select\">\r\n                    <el-option\r\n                      v-for=\"item in optionsTime\"\r\n                      :key=\"item.value\"\r\n                      :label=\"item.label\"\r\n                      :value=\"item.value\"\r\n                    />\r\n                  </el-select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"order__payment\">\r\n              <h3 class=\"order__payment-title\">Способ оплаты</h3>\r\n              <p class=\"order__payment-text\">\r\n                Алкогольные напитки оплачиваются только наличными\r\n              </p>\r\n              <form v-if=\"tab === 'tab_1'\" action=\"\">\r\n                <div class=\"order__payment-list\">\r\n                  <label class=\"order__payment-label\" for=\"radio-1\">\r\n                    <input\r\n                      class=\"order__payment-radio\"\r\n                      type=\"radio\"\r\n                      name=\"payment\"\r\n                      id=\"radio-1\"\r\n                      v-model=\"paymentDelivery\"\r\n                      checked\r\n                      value=\"Наличными курьеру\"\r\n                    />\r\n                    Наличными курьеру\r\n                  </label>\r\n                  <label class=\"order__payment-label\" for=\"radio-2\">\r\n                    <input\r\n                      class=\"order__payment-radio\"\r\n                      type=\"radio\"\r\n                      name=\"payment\"\r\n                      id=\"radio-2\"\r\n                      v-model=\"paymentDelivery\"\r\n                      value=\"Оплата терминалом курьеру\"\r\n                    />\r\n                    Оплата терминалом курьеру\r\n                  </label>\r\n                  <label class=\"order__payment-label\" for=\"radio-3\">\r\n                    <input\r\n                      class=\"order__payment-radio\"\r\n                      type=\"radio\"\r\n                      name=\"payment\"\r\n                      id=\"radio-3\"\r\n                      v-model=\"paymentDelivery\"\r\n                      value=\"Оплата картой online\"\r\n                    />\r\n                    Оплата картой online\r\n                  </label>\r\n                  <label class=\"order__payment-label\" for=\"radio-4\">\r\n                    <input\r\n                      class=\"order__payment-radio\"\r\n                      type=\"radio\"\r\n                      name=\"payment\"\r\n                      id=\"radio-4\"\r\n                      v-model=\"paymentDelivery\"\r\n                      value=\"Оплата через BitPay\"\r\n                    />\r\n                    Оплата через BitPay\r\n                  </label>\r\n                </div>\r\n              </form>\r\n              <form v-if=\"tab === 'tab_2'\" action=\"\">\r\n                <div class=\"order__payment-list\">\r\n                  <label class=\"order__payment-label\" for=\"radio-1\">\r\n                    <input\r\n                      class=\"order__payment-radio\"\r\n                      type=\"radio\"\r\n                      name=\"payment\"\r\n                      id=\"radio-1\"\r\n                      v-model=\"paymentPickup\"\r\n                      checked\r\n                      value=\"Наличными в точке выдачи\"\r\n                    />\r\n                    Наличными в точке выдачи\r\n                  </label>\r\n                  <label class=\"order__payment-label\" for=\"radio-2\">\r\n                    <input\r\n                      class=\"order__payment-radio\"\r\n                      type=\"radio\"\r\n                      name=\"payment\"\r\n                      id=\"radio-2\"\r\n                      v-model=\"paymentPickup\"\r\n                      value=\"Оплата картой online\"\r\n                    />\r\n                    Оплата картой online\r\n                  </label>\r\n                  <label class=\"order__payment-label\" for=\"radio-3\">\r\n                    <input\r\n                      class=\"order__payment-radio\"\r\n                      type=\"radio\"\r\n                      name=\"payment\"\r\n                      id=\"radio-3\"\r\n                      v-model=\"paymentPickup\"\r\n                      value=\"Оплата через BitPay\"\r\n                    />\r\n                    Оплата через BitPay\r\n                  </label>\r\n                </div>\r\n              </form>\r\n              <div\r\n                v-if=\"\r\n                  (paymentDelivery === 'Наличными курьеру' && tab === 'tab_1') ||\r\n                  (paymentPickup === 'Наличными в точке выдачи' && tab === 'tab_2')\r\n                \"\r\n                class=\"order__payment-change\"\r\n              >\r\n                <el-form ref=\"ruleFormRef5\" :model=\"form\">\r\n                  <el-form-item\r\n                    label=\"Подготовить сдачу с\"\r\n                    prop=\"change\"\r\n                    :rules=\"rules.number\"\r\n                    class=\"order__payment-change-input\"\r\n                  >\r\n                    <el-input v-model.number=\"form.change\" placeholder=\"500\">\r\n                      <template #suffix>\r\n                        <span>грн</span>\r\n                      </template>\r\n                    </el-input>\r\n                  </el-form-item>\r\n                </el-form>\r\n              </div>\r\n            </div>\r\n            <div class=\"order__comment\">\r\n              <h3 class=\"order__comment-title\">Комментарий</h3>\r\n              <el-form ref=\"ruleFormRef4\" :model=\"form\">\r\n                <div class=\"order__comment-inputs\">\r\n                  <el-form-item\r\n                    label=\"Обычные палочки\"\r\n                    prop=\"comment1\"\r\n                    :rules=\"rules.number\"\r\n                  >\r\n                    <el-input v-model.number=\"form.comment1\" placeholder=\"4\" />\r\n                  </el-form-item>\r\n                  <el-form-item\r\n                    label=\"Учебные палочки\"\r\n                    prop=\"comment2\"\r\n                    :rules=\"rules.number\"\r\n                  >\r\n                    <el-input v-model.number=\"form.comment2\" placeholder=\"1\" />\r\n                  </el-form-item>\r\n                </div>\r\n                <el-form-item label=\"Примечание к заказу\">\r\n                  <el-input\r\n                    class=\"order__comment-textarea\"\r\n                    v-model=\"form.note\"\r\n                    type=\"textarea\"\r\n                    :rows=\"2\"\r\n                  />\r\n                </el-form-item>\r\n                <div class=\"delivery__other\">\r\n                  <label for=\"order__comment-1\" class=\"delivery__other-label\">\r\n                    <input\r\n                      v-model=\"animals\"\r\n                      class=\"delivery__other-check\"\r\n                      type=\"checkbox\"\r\n                      id=\"order__comment-1\"\r\n                      value=\"cat\"\r\n                    />\r\n                    У меня есть кошка\r\n                  </label>\r\n                  <label for=\"order__comment-2\" class=\"delivery__other-label\">\r\n                    <input\r\n                      v-model=\"animals\"\r\n                      class=\"delivery__other-check\"\r\n                      type=\"checkbox\"\r\n                      id=\"order__comment-2\"\r\n                      value=\"dog\"\r\n                    />\r\n                    У меня есть собака\r\n                  </label>\r\n                </div>\r\n              </el-form>\r\n            </div>\r\n          </div>\r\n          <div class=\"order-right\">\r\n            <el-scrollbar max-height=\"700px\">\r\n              <CartList />\r\n            </el-scrollbar>\r\n\r\n            <EmptyBlock\r\n              v-if=\"cart.length === 0\"\r\n              :imgUrl=\"require('@/img/icon/cart-empty.svg')\"\r\n              title=\"Вы еще не добавили товары в корзину\"\r\n              text=\"Добавьте товары в корзину, чтобы сделать заказ\"\r\n            />\r\n\r\n            <SliderOrder\r\n              class=\"order-added\"\r\n              v-loading=\"sliderLoading\"\r\n              :slides=\"products\"\r\n              @order-add-cart=\"(item) => onClickAddPlus(item)\"\r\n            />\r\n\r\n            <div class=\"order__total\">\r\n              <el-form ref=\"ruleFormRef6\">\r\n                <div class=\"order__total-promokod\">\r\n                  <el-form-item class=\"order__total-input\">\r\n                    <p v-if=\"codeValid === false\" class=\"order__total-novalid\">\r\n                      Промокод введен не верно!\r\n                    </p>\r\n                    <el-input placeholder=\"Введите промокод\" v-model=\"form.code\">\r\n                      <template #suffix>\r\n                        <img\r\n                          v-if=\"codeValid === true\"\r\n                          src=\"@/img/icon/check-green.svg\"\r\n                          alt=\"\"\r\n                        />\r\n                        <img\r\n                          v-if=\"codeValid === false\"\r\n                          src=\"@/img/icon/warning.svg\"\r\n                          alt=\"\"\r\n                        />\r\n                      </template>\r\n                    </el-input>\r\n                  </el-form-item>\r\n                  <el-form-item>\r\n                    <button\r\n                      class=\"order__total-promokod-btn\"\r\n                      @click.prevent=\"codeValid === true ? cancelCode() : checkCode()\"\r\n                      :disabled=\"codeLoading || freeLoading\"\r\n                    >\r\n                      <div v-if=\"codeLoading\" class=\"order__total-btn-box\">\r\n                        <div class=\"custom-loading\">\r\n                          <svg class=\"circular\" viewBox=\"-10, -10, 50, 50\">\r\n                            <path\r\n                              class=\"path\"\r\n                              d=\"\r\n                                          M 30 15\r\n                                          L 28 17\r\n                                          M 25.61 25.61\r\n                                          A 15 15, 0, 0, 1, 15 30\r\n                                          A 15 15, 0, 1, 1, 27.99 7.5\r\n                                          L 15 15\r\n                                        \"\r\n                              style=\"stroke-width: 4px; fill: rgba(0, 0, 0, 0)\"\r\n                            />\r\n                          </svg>\r\n                        </div>\r\n                        <span>Подождите...</span>\r\n                      </div>\r\n                      <span v-if=\"!codeLoading\">{{\r\n                        codeValid === true ? \"Отменить\" : \"Применить\"\r\n                      }}</span>\r\n                    </button>\r\n                  </el-form-item>\r\n                </div>\r\n              </el-form>\r\n              <div v-if=\"freeProduct.length > 0\" class=\"order__total-list\">\r\n                <div class=\"order__total-item\" v-for=\"item in freeProduct\" :key=\"item.id\">\r\n                  <div class=\"order__total-list-left\">\r\n                    <div class=\"order__total-imgwrapper\">\r\n                      <img\r\n                        class=\"order__total-img\"\r\n                        :src=\"require(`@/img/products/${item.imgUrl}`)\"\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"order__total-info\">\r\n                      <p class=\"order__total-list-title\">{{ item.title }}</p>\r\n                      <p class=\"order__total-list-weight\">Вес: {{ item.weight }} г</p>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"order__total-list-right\">\r\n                    <p class=\"order__total-count\">{{ item.count }} шт</p>\r\n                    <p class=\"order__total-free\">Бесплатно</p>\r\n                  </div>\r\n                  <div class=\"order__total-list-btn\">\r\n                    <img src=\"@/img/icon/plus-green.svg\" alt=\"\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"order__total-box\">\r\n                <div class=\"order__total-left\">\r\n                  <p class=\"order__total-text\">Итого:</p>\r\n                  <p class=\"order__total-price\">{{ totalPrice }}<span>грн</span></p>\r\n                </div>\r\n                <button\r\n                  @click=\"postOrder\"\r\n                  class=\"order__total-btn\"\r\n                  :disabled=\"totalPrice < 400 || isCreatingOrder\"\r\n                >\r\n                  <div v-if=\"isCreatingOrder\" class=\"order__total-btn-box\">\r\n                    <div class=\"custom-loading\">\r\n                      <svg class=\"circular\" viewBox=\"-10, -10, 50, 50\">\r\n                        <path\r\n                          class=\"path\"\r\n                          d=\"\r\n                                          M 30 15\r\n                                          L 28 17\r\n                                          M 25.61 25.61\r\n                                          A 15 15, 0, 0, 1, 15 30\r\n                                          A 15 15, 0, 1, 1, 27.99 7.5\r\n                                          L 15 15\r\n                                        \"\r\n                          style=\"stroke-width: 4px; fill: rgba(0, 0, 0, 0)\"\r\n                        />\r\n                      </svg>\r\n                    </div>\r\n                    <span>Отправка...</span>\r\n                  </div>\r\n                  <span v-else>Оформить заказ</span>\r\n                </button>\r\n              </div>\r\n              <p v-if=\"totalPrice < 400\" class=\"order__total-warning\">\r\n                Минимальная сумма заказа 400 грн\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { inject, ref, computed } from \"vue\";\r\nimport * as turf from \"@turf/turf\";\r\nimport emitter from \"@/store/eventBus.js\";\r\nimport { mapActions, mapMutations, mapState, useStore } from \"vuex\";\r\nimport EpInfoFilled from \"~icons/ep/info-filled\";\r\nimport LineMdConfirm from \"~icons/line-md/confirm\";\r\nexport default {\r\n  data() {\r\n    let currentDate = new Date();\r\n\r\n    let data1 = new Date();\r\n    let data2 = new Date();\r\n    let data3 = new Date();\r\n    let data4 = new Date();\r\n    let data5 = new Date();\r\n    data1.setDate(currentDate.getDate());\r\n    data2.setDate(currentDate.getDate() + 1);\r\n    data3.setDate(currentDate.getDate() + 2);\r\n    data4.setDate(currentDate.getDate() + 3);\r\n    data5.setDate(currentDate.getDate() + 4);\r\n\r\n    let month1 = data1.getMonth() + 1;\r\n    let month2 = data2.getMonth() + 1;\r\n    let month3 = data3.getMonth() + 1;\r\n    let month4 = data4.getMonth() + 1;\r\n    let month5 = data5.getMonth() + 1;\r\n\r\n    data1 = data1 < 10 ? \"0\" + data1.getDate() : data1.getDate();\r\n    data2 = data2 < 10 ? \"0\" + data2.getDate() : data2.getDate();\r\n    data3 = data3 < 10 ? \"0\" + data3.getDate() : data3.getDate();\r\n    data4 = data4 < 10 ? \"0\" + data4.getDate() : data4.getDate();\r\n    data5 = data5 < 10 ? \"0\" + data5.getDate() : data5.getDate();\r\n\r\n    month1 = month1 < 10 ? \"0\" + month1 : month1;\r\n    month2 = month2 < 10 ? \"0\" + month2 : month2;\r\n    month3 = month3 < 10 ? \"0\" + month3 : month3;\r\n    month4 = month4 < 10 ? \"0\" + month4 : month4;\r\n    month5 = month5 < 10 ? \"0\" + month5 : month5;\r\n\r\n    return {\r\n      input: \"\",\r\n      dialogVisible: false,\r\n      tab: \"tab_1\",\r\n      addAddress: false,\r\n      paths: [{ name: \"Оформление заказа\", path: \"/rol-shop/order\" }],\r\n      loadingPostAddress: false,\r\n      restaurants: [],\r\n      optionsDay: [\r\n        {\r\n          value: `${data1}.${month1}`,\r\n          label: \"Сегодня\",\r\n        },\r\n        {\r\n          value: `${data2}.${month2}`,\r\n          label: \"Завтра\",\r\n        },\r\n        {\r\n          value: `${data3}.${month3}`,\r\n          label: `${data3}.${month3}`,\r\n        },\r\n        {\r\n          value: `${data4}.${month4}`,\r\n          label: `${data4}.${month4}`,\r\n        },\r\n        {\r\n          value: `${data5}.${month5}`,\r\n          label: `${data5}.${month5}`,\r\n        },\r\n      ],\r\n      optionsTime: [],\r\n      selectDay: \"\",\r\n      selectTime: \"\",\r\n      lat: \"\",\r\n      long: \"\",\r\n      svg: `\r\n        <path class=\"path\" d=\"\r\n          M 30 15\r\n          L 28 17\r\n          M 25.61 25.61\r\n          A 15 15, 0, 0, 1, 15 30\r\n          A 15 15, 0, 1, 1, 27.99 7.5\r\n          L 15 15\r\n        \" style=\"stroke-width: 4px; fill: rgba(0, 0, 0, 0); stroke: #f63\"/>\r\n      `,\r\n      paymentDelivery: \"Наличными курьеру\",\r\n      paymentPickup: \"Наличными в точке выдачи\",\r\n      sliderLoading: false,\r\n      validForm1: false,\r\n      validForm2: false,\r\n      validForm3: false,\r\n      isCreatingOrder: false,\r\n      orderId: null,\r\n      animals: [\"dog\"],\r\n      doorOptions1: [\"Оставить под дверью\"],\r\n      doorOptions2: [\"Оставить под дверью\"],\r\n      addressRadio: \"\",\r\n      cityRadio1: \"Киев\",\r\n      cityRadio2: \"Киев\",\r\n      resultsOrder: \"\",\r\n      coord: this.$store.state.map.coord,\r\n      result: [],\r\n      orderDone: false,\r\n      idAddress: \"\",\r\n      EpInfoFilled: EpInfoFilled,\r\n    };\r\n  },\r\n  components: {\r\n    LineMdConfirm,\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      checkAddress: \"map/checkAddress\",\r\n    }),\r\n    ...mapMutations({\r\n      setPaths: \"crumbs/setPaths\",\r\n    }),\r\n    async fetchAddressSelect(value, cb) {\r\n      try {\r\n        if (value) {\r\n          const { data } = await axios.get(\r\n            `https://suggest-maps.yandex.ru/v1/suggest?apikey=00748542-2e0b-439d-864b-98b4baac2c5f&text=${this.cityRadio1}, ${value}&bbox=${this.area}&lang=ru_RU&strict_bounds=1&types=street,metro,house,district,vegetation&print_address=1`\r\n          );\r\n          if (data.results) {\r\n            this.result = data.results.map((item) => ({\r\n              address: item.title.text,\r\n              house: item.address.component.find((pl) => pl.kind == \"HOUSE\")\r\n                ? item.address.component.find((pl) => pl.kind == \"HOUSE\").name\r\n                : \"\",\r\n            }));\r\n\r\n            // возвращение данных\r\n            cb(this.result);\r\n          } else {\r\n            // если нет результатов / скрытие списка\r\n            cb([]);\r\n          }\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    handleSelectAddress(item) {\r\n      // заполнение полей\r\n      this.form.address = item.address;\r\n      this.form.house = item.house;\r\n\r\n      // проверка что адрес был выбран из списка\r\n      this.checkFromSelect = true;\r\n    },\r\n    async fetchAddress() {\r\n      let apiRes = null;\r\n      try {\r\n        const { data } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/address`);\r\n\r\n        this.address = data;\r\n\r\n        // по умолчанию первый отмечен\r\n        if (this.address.length > 0) {\r\n          this.addressRadio = this.address[0].id;\r\n        }\r\n      } catch (err) {\r\n        apiRes = err.response.status;\r\n      } finally {\r\n        if (apiRes == 404) {\r\n          this.$router.push(\"/rol-shop/404\");\r\n        }\r\n      }\r\n    },\r\n    async fetchRestaurant() {\r\n      try {\r\n        const { data } = await axios.get(\r\n          `https://c2ff7a8de0a119c8.mokky.dev/restaurant?city=${this.cityRadio2}`\r\n        );\r\n\r\n        this.restaurants = data;\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async fetchProduct() {\r\n      let apiRes = null;\r\n      try {\r\n        this.sliderLoading = true;\r\n\r\n        const { data } = await axios.get(\r\n          `https://c2ff7a8de0a119c8.mokky.dev/items?category=drinks`\r\n        );\r\n\r\n        this.products = data.map((obj) => ({\r\n          ...obj,\r\n          isAdded: false,\r\n          count: 1,\r\n        }));\r\n      } catch (err) {\r\n        apiRes = err.response.status;\r\n      } finally {\r\n        this.sliderLoading = false;\r\n        if (apiRes == 404) {\r\n          this.$router.push(\"/rol-shop/404\");\r\n        }\r\n      }\r\n    },\r\n    geocoderCoord(lat, long) {\r\n      this.lat = lat;\r\n      this.long = long;\r\n\r\n      // скрытие блока при клике по карте\r\n      this.$store.commit(\"map/setDeliveryCheck\", false);\r\n    },\r\n    async removeAddress() {\r\n      await axios.delete(\r\n        `https://c2ff7a8de0a119c8.mokky.dev/address/${this.addressRadio}`\r\n      );\r\n\r\n      let index = this.address.findIndex((item) => item.id == this.addressRadio);\r\n      if (index !== -1) {\r\n        this.address.splice(index, 1);\r\n      }\r\n\r\n      // первый адрес отмечен\r\n      if (this.address.length > 0) {\r\n        this.addressRadio = this.address[0].id;\r\n      }\r\n    },\r\n    sumbitForm(forName) {\r\n      forName.validate((valid) => {\r\n        if (valid) {\r\n          this.postAddress().then(() => {\r\n            this.addAddress = false;\r\n            this.fetchAddress();\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    async postAddress() {\r\n      try {\r\n        this.loadingPostAddress = true;\r\n\r\n        if (\r\n          !this.repeatAddress(\r\n            this.form.address,\r\n            this.form.house,\r\n            this.form.input,\r\n            this.form.floor,\r\n            this.form.apartment,\r\n            this.cityRadio1\r\n          )\r\n        ) {\r\n          const { data } = await axios.post(\r\n            `https://c2ff7a8de0a119c8.mokky.dev/address`,\r\n            {\r\n              address: this.form.address,\r\n              house: this.form.house,\r\n              input: this.form.input,\r\n              floor: this.form.floor,\r\n              apartment: this.form.apartment,\r\n              city: this.cityRadio1,\r\n            }\r\n          );\r\n        }\r\n\r\n        this.form.address = \"\";\r\n        this.form.house = \"\";\r\n        this.form.input = \"\";\r\n        this.form.floor = \"\";\r\n        this.form.apartment = \"\";\r\n      } catch (err) {\r\n        console.log(err);\r\n      } finally {\r\n        this.loadingPostAddress = false;\r\n      }\r\n    },\r\n    filterArray(input, cb) {\r\n      const results = this.restaurants.filter((element) =>\r\n        element.address.toLowerCase().includes(input.toLowerCase())\r\n      );\r\n      cb(results);\r\n    },\r\n    handleSelect(item) {\r\n      // ресторан из списка\r\n      this.fromSelectRestaurant = true;\r\n      this.form.restaurant = item.address;\r\n    },\r\n    async validForms() {\r\n      if (!this.ruleFormRef3) return;\r\n      await this.ruleFormRef3.validate((valid, fields) => {\r\n        if (valid) {\r\n          this.validForm1 = true;\r\n        }\r\n      });\r\n      if (this.tab === \"tab_2\") {\r\n        await this.ruleFormRef2.validate((valid, fields) => {\r\n          if (valid) {\r\n            this.validForm2 = true;\r\n          }\r\n        });\r\n      }\r\n      if (this.tab === \"tab_1\" && (this.addAddress || this.address.length === 0)) {\r\n        await this.ruleFormRef1.validate((valid, fields) => {\r\n          if (valid) {\r\n            this.validForm3 = true;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    generateTimeOptions() {\r\n      this.optionsTime = [];\r\n      if (this.selectDay === this.optionsDay[0].value) {\r\n        let currentDate = new Date();\r\n        let hours = currentDate.getHours();\r\n        let minutes = currentDate.getMinutes();\r\n\r\n        this.optionsTime.push({ value: `${hours}:${minutes}`, label: \"Ближайшее\" });\r\n\r\n        if (minutes > 30) {\r\n          this.optionsTime.push({ value: `${hours + 2}:30`, label: `${hours + 2}:30` });\r\n          for (let i = hours + 3; i < 23; i++) {\r\n            this.optionsTime.push({ value: `${i}:00`, label: `${i}:00` });\r\n            this.optionsTime.push({ value: `${i}:30`, label: `${i}:30` });\r\n          }\r\n        } else {\r\n          for (let i = hours + 2; i < 23; i++) {\r\n            this.optionsTime.push({ value: `${i}:00`, label: `${i}:00` });\r\n            this.optionsTime.push({ value: `${i}:30`, label: `${i}:30` });\r\n          }\r\n        }\r\n      } else {\r\n        for (let i = 11; i < 23; i++) {\r\n          this.optionsTime.push({ value: `${i}:00`, label: `${i}:00` });\r\n          this.optionsTime.push({ value: `${i}:30`, label: `${i}:30` });\r\n        }\r\n      }\r\n      this.selectTime = this.optionsTime[0].value;\r\n    },\r\n    postOrder() {\r\n      this.validForms().then(() => {\r\n        if (this.tab === \"tab_2\") {\r\n          //самовывоз\r\n          if (this.validForm1 && this.validForm2) {\r\n            this.createOrder();\r\n          }\r\n        } else if (\r\n          this.tab === \"tab_1\" &&\r\n          (this.addAddress || this.address.length === 0)\r\n        ) {\r\n          // доставка и добавить\r\n          if (this.validForm1 && this.validForm3) {\r\n            this.createOrder();\r\n          }\r\n        } else {\r\n          // доставка и сохраненный адрес\r\n          if (this.validForm1) {\r\n            this.createOrder();\r\n          }\r\n        }\r\n      });\r\n    },\r\n    async createOrder() {\r\n      try {\r\n        this.isCreatingOrder = true;\r\n\r\n        const info = {\r\n          name: this.form.name,\r\n          tel: this.form.tel,\r\n          day: this.selectDay,\r\n          time: this.selectTime,\r\n          year: new Date().getFullYear(),\r\n          payment: this.tab === \"tab_1\" ? this.paymentDelivery : this.paymentPickup,\r\n          items: this.cart,\r\n          totalPrice: this.totalPrice,\r\n          animals: this.animals,\r\n          methods: this.tab === \"tab_1\" ? \"Доставка\" : \"Самовывоз\",\r\n          address: \"\",\r\n          options: \"\",\r\n          number: \"\",\r\n          status: 0,\r\n        };\r\n\r\n        // сдача\r\n        if (\r\n          (this.paymentDelivery === \"Наличными курьеру\" && this.tab === \"tab_1\") ||\r\n          (this.paymentPickup === \"Наличными в точке выдачи\" && this.tab === \"tab_2\")\r\n        ) {\r\n          info.change = this.form.change ? this.form.change : \"без сдачи\";\r\n        }\r\n\r\n        if (this.form.comment1) {\r\n          info.regularSticks = this.form.comment1;\r\n        }\r\n        if (this.form.comment2) {\r\n          info.traningSticks = this.form.comment2;\r\n        }\r\n        if (this.form.note) {\r\n          info.note = this.form.note;\r\n        }\r\n        if (this.freeProduct.length > 0) {\r\n          info.freeProduct = this.freeProduct;\r\n        }\r\n\r\n        if (this.tab === \"tab_1\" && !this.addAddress && this.address.length > 0) {\r\n          const result = this.address.find((item) => {\r\n            return item.id === this.addressRadio;\r\n          });\r\n          info.address = result;\r\n          info.options = this.doorOptions1;\r\n        }\r\n\r\n        if (this.tab === \"tab_1\" && (this.addAddress || this.address.length === 0)) {\r\n          const result = {\r\n            city: this.cityRadio1,\r\n            address: this.form.address,\r\n            house: this.form.house,\r\n            input: this.form.input,\r\n            floor: this.form.floor,\r\n            apartment: this.form.apartment,\r\n          };\r\n          info.address = result;\r\n          info.options = this.doorOptions2;\r\n        }\r\n\r\n        if (this.tab === \"tab_2\") {\r\n          const result = {\r\n            city: this.cityRadio2,\r\n            address: this.form.restaurant,\r\n          };\r\n          info.address = result;\r\n        }\r\n\r\n        // история заказов в localStorage\r\n        this.historyOrder = Number(this.historyOrder) + 1;\r\n        localStorage.setItem(\"order\", JSON.stringify(this.historyOrder));\r\n        info.number = this.historyOrder;\r\n\r\n        const { data } = await axios.post(\r\n          `https://c2ff7a8de0a119c8.mokky.dev/orders`,\r\n          info\r\n        );\r\n\r\n        this.cart = [];\r\n      } catch (err) {\r\n        console.log(err);\r\n      } finally {\r\n        this.isCreatingOrder = false;\r\n        this.orderDone = true;\r\n      }\r\n    },\r\n    async fetchOrder(number) {\r\n      let apiRes = null;\r\n      try {\r\n        const { data } = await axios.get(\r\n          `https://c2ff7a8de0a119c8.mokky.dev/orders?number=${number}`\r\n        );\r\n\r\n        this.resultsOrder = data[0];\r\n        this.cart = this.resultsOrder.items;\r\n      } catch (err) {\r\n        if (err.response) {\r\n          apiRes = err.response.status;\r\n        }\r\n      } finally {\r\n        if (apiRes == 404) {\r\n          this.$router.push(\"/rol-shop/404\");\r\n        }\r\n      }\r\n    },\r\n    onRepeatOrder(number) {\r\n      this.fetchOrder(number).then(() => {\r\n        // включение кнопки для карточек и слайдера и favorites\r\n        // this.sushi = this.updateItemsStatus(this.sushi);\r\n        // this.rolls = this.updateItemsStatus(this.rolls);\r\n        // this.sets = this.updateItemsStatus(this.sets);\r\n        // this.snacks = this.updateItemsStatus(this.snacks);\r\n        // this.drinks = this.updateItemsStatus(this.drinks);\r\n        // this.slides = this.updateItemsStatus(this.slides);\r\n        // this.favorites = this.updateItemsStatus(this.favorites);\r\n        // this.categores = this.updateItemsStatus(this.categores);\r\n        // this.slidesTovar = this.updateItemsStatus(this.slidesTovar);\r\n        this.products = this.updateItemsStatus(this.products);\r\n        // this.cart.some((cartItem) => cartItem.id === this.product.id)\r\n        //   ? (this.product.isAdded = true)\r\n        //   : null;\r\n\r\n        // заполнение полей\r\n        this.form.name = this.resultsOrder.name;\r\n        this.form.tel = this.resultsOrder.tel;\r\n        this.form.change =\r\n          this.resultsOrder.change !== \"без сдачи\" ? this.resultsOrder.change : \"\";\r\n        this.animals = this.resultsOrder.animals;\r\n\r\n        if (this.resultsOrder.methods === \"Доставка\") {\r\n          this.tab = \"tab_1\";\r\n          this.paymentDelivery = this.resultsOrder.payment;\r\n\r\n          if (\r\n            this.repeatAddress(\r\n              //если адрес есть в сохраненных\r\n              this.resultsOrder.address.address,\r\n              this.resultsOrder.address.house,\r\n              this.resultsOrder.address.input,\r\n              this.resultsOrder.address.floor,\r\n              this.resultsOrder.address.apartment,\r\n              this.resultsOrder.address.city\r\n            )\r\n          ) {\r\n            this.addressRadio = this.idAddress;\r\n            this.doorOptions1 = this.resultsOrder.options;\r\n          } else {\r\n            // не сохраненный адрес\r\n            this.addAddress = true;\r\n\r\n            this.cityRadio1 = this.resultsOrder.address.city;\r\n            this.form.address = this.resultsOrder.address.address;\r\n            this.form.house = this.resultsOrder.address.house;\r\n            this.form.input = this.resultsOrder.address.input;\r\n            this.form.floor = this.resultsOrder.address.floor;\r\n            this.form.apartment = this.resultsOrder.address.apartment;\r\n\r\n            this.doorOptions2 = this.resultsOrder.options;\r\n          }\r\n        }\r\n        if (this.resultsOrder.methods === \"Самовывоз\") {\r\n          this.tab = \"tab_2\";\r\n          this.paymentPickup = this.resultsOrder.payment;\r\n\r\n          this.cityRadio2 = this.resultsOrder.address.city;\r\n          this.form.restaurant = this.resultsOrder.address.address;\r\n          this.fetchRestaurant();\r\n        }\r\n        if (this.resultsOrder.regularSticks) {\r\n          this.form.comment1 = this.resultsOrder.regularSticks;\r\n        }\r\n        if (this.resultsOrder.traningSticks) {\r\n          this.form.comment2 = this.resultsOrder.traningSticks;\r\n        }\r\n        if (this.resultsOrder.note) {\r\n          this.form.note = this.resultsOrder.note;\r\n        }\r\n      });\r\n    },\r\n    updateItemsStatus(items) {\r\n      return items.map((item) => ({\r\n        ...item,\r\n        isAdded: this.cart.some((cartItem) => cartItem.id === item.id),\r\n      }));\r\n    },\r\n    repeatAddress(address, house, input, floor, apartment, city) {\r\n      for (let item of this.address) {\r\n        if (\r\n          item.address === address &&\r\n          item.house === house &&\r\n          item.input === input &&\r\n          item.floor === floor &&\r\n          item.apartment === apartment &&\r\n          item.city === city\r\n        ) {\r\n          this.idAddress = item.id;\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n  mounted() {\r\n    // значения по умолчанию\r\n    this.selectDay = this.optionsDay[0].value;\r\n    // генерация времени\r\n    this.generateTimeOptions();\r\n    // координаты центра по умолчанию\r\n    this.lat = this.coord[0];\r\n    this.long = this.coord[1];\r\n    // slider\r\n    this.fetchProduct().then(() => {\r\n      this.products = this.products.map((item) => ({\r\n        ...item,\r\n        isAdded: this.cart.some((cartItem) => cartItem.id === item.id),\r\n      }));\r\n    });\r\n\r\n    // прослушивание событие с корзины\r\n    // emitter.on(\"is-order-fetching\", this.onRepeatOrder);\r\n\r\n    // если есть параметр repeat повтор заказа\r\n    if (this.$route.query.repeat) {\r\n      this.fetchAddress().then(() => {\r\n        const number = this.$route.query.repeat;\r\n        this.onRepeatOrder(number);\r\n      });\r\n    } else {\r\n      this.fetchAddress();\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      deliveryPossible: (state) => state.map.deliveryPossible,\r\n      deliveryCheck: (state) => state.map.deliveryCheck,\r\n      addressDialog: (state) => state.map.address,\r\n      loadingDeliveryCheck: (state) => state.map.loading,\r\n      loadingAddress: (state) => state.map.loadingAddress,\r\n    }),\r\n    checkCart() {\r\n      return this.cart.length === 0;\r\n    },\r\n    repeatOnPage() {\r\n      return Object.prototype.hasOwnProperty.call(this.$route.query, \"repeat\");\r\n    },\r\n  },\r\n  watch: {\r\n    repeatOnPage(value) {\r\n      // если повтор заказа был сделан когда страница уже была открыта\r\n      if (value) {\r\n        const number = this.$route.query.repeat;\r\n        this.onRepeatOrder(number);\r\n      }\r\n    },\r\n    checkCart(value) {\r\n      if (value) {\r\n        if (!this.orderDone) {\r\n          // удаление query из запроса если нет товаров в корзине\r\n          this.$router.push({ path: \"/rol-shop/order\" });\r\n        } else {\r\n          this.$router.push({ path: \"/rol-shop/success\" });\r\n        }\r\n      }\r\n    },\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next((vm) => {\r\n      vm.setPaths(vm.paths);\r\n    });\r\n  },\r\n  setup(props) {\r\n    const { address, area } = inject(\"address\");\r\n    const { cart, addToCart, removeFromCart, totalPrice, historyOrder } = inject(\"cart\");\r\n    const {\r\n      sushi,\r\n      rolls,\r\n      sets,\r\n      snacks,\r\n      drinks,\r\n      slides,\r\n      favorites,\r\n      categores,\r\n      product,\r\n      slidesTovar,\r\n      products,\r\n    } = inject(\"items\");\r\n    const form = ref({\r\n      name: \"\",\r\n      tel: \"\",\r\n      address: \"\",\r\n      house: \"\",\r\n      input: \"\",\r\n      floor: \"\",\r\n      apartment: \"\",\r\n      restaurant: \"\",\r\n      comment1: \"\",\r\n      comment2: \"\",\r\n      note: \"\",\r\n      change: \"\",\r\n      code: \"\",\r\n    });\r\n    const ruleFormRef1 = ref({});\r\n    const ruleFormRef2 = ref({});\r\n    const ruleFormRef3 = ref({});\r\n    const ruleFormRef4 = ref({});\r\n    const ruleFormRef5 = ref({});\r\n    const ruleFormRef6 = ref({});\r\n    const ruleFormRef7 = ref({});\r\n    const ruleFormRef8 = ref({});\r\n\r\n    const code = ref();\r\n    const codeValid = ref();\r\n    const codeLoading = ref(false);\r\n    const freeProduct = ref([]);\r\n    const freeLoading = ref(false);\r\n\r\n    const store = useStore();\r\n    var arrayCoord = computed(() => store.state.map.arrayCoord);\r\n    var deliveryPossible = computed(() => store.state.map.deliveryPossible);\r\n    var checkFromSelect = ref(false);\r\n    var fromSelectRestaurant = ref(false);\r\n\r\n    // кастомное правило\r\n    const checkNumber = (rule, value, callback) => {\r\n      if (!Number.isInteger(value) && value) {\r\n        callback(new Error(\"Введите число!\"));\r\n      } else {\r\n        if (value <= 0 && value) {\r\n          callback(new Error(\"Неверное кол-во!\"));\r\n        } else {\r\n          callback();\r\n        }\r\n      }\r\n    };\r\n\r\n    // получение промокода\r\n    const fetchCode = async () => {\r\n      try {\r\n        codeLoading.value = true;\r\n\r\n        const { data } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/code`);\r\n\r\n        code.value = data[0].code;\r\n      } catch (err) {\r\n        console.log(err);\r\n      } finally {\r\n        codeLoading.value = false;\r\n      }\r\n    };\r\n\r\n    // получение товаров по промокоду\r\n    const fetchFree = async () => {\r\n      try {\r\n        freeLoading.value = true;\r\n\r\n        const { data } = await axios.get(\r\n          `https://c2ff7a8de0a119c8.mokky.dev/items?category=snacks&id=41`\r\n        );\r\n\r\n        freeProduct.value = data.map((obj) => ({\r\n          ...obj,\r\n          count: 1,\r\n        }));\r\n      } catch (err) {\r\n        console.log(err);\r\n      } finally {\r\n        freeLoading.value = false;\r\n      }\r\n    };\r\n\r\n    const checkCode = () => {\r\n      fetchCode().then(() => {\r\n        if (code.value === form.value.code) {\r\n          codeValid.value = true;\r\n          fetchFree();\r\n        } else {\r\n          codeValid.value = false;\r\n        }\r\n      });\r\n    };\r\n\r\n    const cancelCode = () => {\r\n      freeProduct.value = [];\r\n      codeValid.value = \"\";\r\n      form.value.code = \"\";\r\n    };\r\n\r\n    // проверка адреса на доступность для доставки\r\n    const checkGeo = (rule, value, callback) => {\r\n      let possible = false;\r\n      let address = `${props.cityRadio1}, ${value}`;\r\n      store.dispatch(\"map/geocoderAddress\", address).then(() => {\r\n        store\r\n          .dispatch(\"map/checkAddress\", {\r\n            lat: arrayCoord.value[0],\r\n            long: arrayCoord.value[1],\r\n          })\r\n          .then(() => {\r\n            possible = deliveryPossible.value;\r\n            if (value && !possible) {\r\n              callback(new Error(\"Доставка по этому адресу не осуществляется!\"));\r\n            } else {\r\n              callback();\r\n            }\r\n          });\r\n      });\r\n    };\r\n\r\n    // проверка что адрес был выбран из списка\r\n    const checkSelect = (rule, value, callback) => {\r\n      if (!checkFromSelect.value) {\r\n        callback(new Error(\"Адрес не выбран!\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    // проверка что ресторан был выбран из списка\r\n    const checkRestaurant = (rule, value, callback) => {\r\n      if (!fromSelectRestaurant.value) {\r\n        callback(new Error(\"Адрес не выбран!\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    const rules = ref({\r\n      address: [\r\n        { required: true, message: \"Нужно заполнить!\", trigger: \"blur\" },\r\n        { min: 5, message: \"Слишком короткий!\", trigger: \"blur\" },\r\n        { validator: checkGeo, trigger: \"submit\" },\r\n        { validator: checkSelect, trigger: \"submit\" },\r\n      ],\r\n      restaurant: [\r\n        { required: true, message: \"Нужно заполнить!\", trigger: \"blur\" },\r\n        { min: 5, message: \"Слишком короткий!\", trigger: \"blur\" },\r\n        { validator: checkRestaurant, trigger: \"submit\" },\r\n      ],\r\n      name: [\r\n        { required: true, message: \"Нужно заполнить!\", trigger: \"blur\" },\r\n        { min: 3, message: \"Слишком короткий!\", trigger: \"blur\" },\r\n      ],\r\n      tel: [\r\n        { required: true, message: \"Нужно заполнить!\", trigger: \"blur\" },\r\n        { min: 18, message: \"Слишком короткий!\", trigger: \"blur\" },\r\n      ],\r\n      number: [{ validator: checkNumber, trigger: \"blur\" }],\r\n    });\r\n\r\n    const onClickAddPlus = (item) => {\r\n      if (!item.isAdded) {\r\n        addToCart(item);\r\n      } else {\r\n        removeFromCart(item);\r\n      }\r\n    };\r\n\r\n    return {\r\n      address,\r\n      form,\r\n      ruleFormRef1,\r\n      ruleFormRef2,\r\n      ruleFormRef3,\r\n      ruleFormRef4,\r\n      ruleFormRef5,\r\n      ruleFormRef6,\r\n      ruleFormRef7,\r\n      ruleFormRef8,\r\n      rules,\r\n      cart,\r\n      onClickAddPlus,\r\n      products,\r\n      totalPrice,\r\n      checkCode,\r\n      codeValid,\r\n      codeLoading,\r\n      freeProduct,\r\n      cancelCode,\r\n      freeLoading,\r\n      historyOrder,\r\n      sushi,\r\n      rolls,\r\n      sets,\r\n      snacks,\r\n      drinks,\r\n      slides,\r\n      favorites,\r\n      categores,\r\n      product,\r\n      slidesTovar,\r\n      area,\r\n      checkFromSelect,\r\n      fromSelectRestaurant,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.crumbs {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n.destination__map {\r\n  // flex-grow: 1;\r\n  width: 100%;\r\n  height: 400px;\r\n  border-radius: $border;\r\n  overflow: hidden;\r\n}\r\n.order {\r\n  &__inner {\r\n    position: relative;\r\n  }\r\n}\r\n.order-title {\r\n  color: var(--grey-dark);\r\n  font-size: 48px;\r\n  font-weight: 700;\r\n  margin-bottom: 24px;\r\n  line-height: 1.4;\r\n}\r\n.order-wrapper {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 64px;\r\n}\r\n.order-left {\r\n  width: 645px;\r\n}\r\n.order {\r\n  &__person {\r\n    background-color: var(--white);\r\n    border-radius: $border;\r\n    padding: 24px;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  &__person-title {\r\n    color: var(--grey-dark);\r\n    font-size: 24px;\r\n    font-weight: 500;\r\n    margin-bottom: 24px;\r\n  }\r\n\r\n  &__person-inputs {\r\n    display: flex;\r\n    gap: 12px;\r\n  }\r\n\r\n  &__delivery {\r\n    background-color: var(--white);\r\n    border-radius: $border;\r\n    padding: 24px;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  &__delivery-head {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: flex-end;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  &__delivery-title {\r\n    color: var(--grey-dark);\r\n    font-size: 24px;\r\n    font-weight: 500;\r\n    line-height: 1.4;\r\n  }\r\n}\r\n.order-dialog {\r\n  &__text {\r\n    font-weight: 400;\r\n    color: rgb(104, 104, 112);\r\n  }\r\n\r\n  &__list {\r\n    display: flex;\r\n    gap: 24px;\r\n    margin-bottom: 16px;\r\n    margin-top: 40px;\r\n  }\r\n\r\n  &__list-item {\r\n    display: flex;\r\n    gap: 12px;\r\n    span {\r\n      color: var(--grey-dark);\r\n      font-size: 20px;\r\n      font-weight: 400;\r\n    }\r\n  }\r\n\r\n  &__list-text {\r\n    color: var(--grey-dark);\r\n    font-size: 20px;\r\n    font-weight: 400;\r\n  }\r\n\r\n  &__btn {\r\n    margin-top: 24px;\r\n    display: flex;\r\n    gap: 10px;\r\n    align-items: center;\r\n    &:disabled {\r\n      cursor: default;\r\n      background-color: #929292;\r\n    }\r\n  }\r\n}\r\n.address {\r\n  &__list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 12px;\r\n    margin-bottom: 16px;\r\n  }\r\n\r\n  &__list-item {\r\n    width: 100%;\r\n    border-radius: $border;\r\n    padding: 12px 16px;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 16px;\r\n    border: 1px solid rgb(237, 237, 237);\r\n    &::before {\r\n      content: url(\"@/img/icon/location-grey.svg\");\r\n      height: 24px;\r\n      width: 20px;\r\n    }\r\n    input {\r\n      appearance: none;\r\n      min-width: 24px;\r\n      height: 24px;\r\n      border: 1px solid rgb(158, 158, 158);\r\n      border-radius: 50%;\r\n      position: relative;\r\n      transition: $transition;\r\n      cursor: pointer;\r\n      &::before {\r\n        content: \"\";\r\n        width: 14px;\r\n        height: 14px;\r\n        background-color: transparent;\r\n        border-radius: 50%;\r\n        position: absolute;\r\n        left: 50%;\r\n        top: 50%;\r\n        transform: translate(-50%, -50%);\r\n        transition: $transition;\r\n      }\r\n      &:checked {\r\n        border: 2px solid rgb(255, 102, 51);\r\n        &::before {\r\n          background-color: rgb(255, 102, 51);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  &__info {\r\n    flex-grow: 1;\r\n  }\r\n\r\n  &__address {\r\n    color: var(--grey-dark);\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n  }\r\n\r\n  &__other {\r\n    color: rgb(104, 104, 112);\r\n    font-size: 12px;\r\n    font-weight: 400;\r\n    line-height: 1.3;\r\n  }\r\n}\r\n.order {\r\n  &__delivery-text {\r\n    color: rgb(104, 104, 112);\r\n    font-size: 14px;\r\n    margin-bottom: 16px;\r\n  }\r\n\r\n  &__tabs {\r\n    display: flex;\r\n    background: var(--grey-light);\r\n    border-radius: $border;\r\n    padding: 6px 8px;\r\n    position: relative;\r\n    margin-bottom: 8px;\r\n    &::after {\r\n      content: \"\";\r\n      background-color: rgb(255, 102, 51);\r\n      border-radius: $border;\r\n      position: absolute;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n      width: calc(50% - 8px);\r\n      height: calc(100% - 12px);\r\n      transition: $transition;\r\n    }\r\n    &.tabs-active-1 {\r\n      &::after {\r\n        left: 8px;\r\n        right: auto;\r\n      }\r\n    }\r\n    &.tabs-active-2 {\r\n      &::after {\r\n        transform: translateY(-50%) translateX(100%);\r\n      }\r\n    }\r\n  }\r\n}\r\n.tabs-wrapper {\r\n}\r\n.tabs {\r\n  &__content {\r\n  }\r\n}\r\n.tab {\r\n  flex: 1;\r\n  text-align: center;\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: $transition;\r\n  z-index: 1;\r\n  color: var(--grey-dark);\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  &__content {\r\n  }\r\n}\r\n.delivery {\r\n  &__text {\r\n    margin-left: 8px;\r\n    font-size: 14px;\r\n    color: var(--grey-dark);\r\n    margin-bottom: 24px;\r\n  }\r\n\r\n  &__btns {\r\n    display: flex;\r\n    gap: 12px;\r\n    margin-bottom: 24px;\r\n  }\r\n\r\n  &__btn {\r\n    flex: 1;\r\n    text-align: center;\r\n    background-color: var(--grey-light);\r\n    border-radius: $border;\r\n    height: 56px;\r\n    font-weight: 500;\r\n    &:nth-child(1) {\r\n      color: rgb(0, 204, 45);\r\n    }\r\n    &:nth-child(2) {\r\n      color: rgb(244, 72, 55);\r\n    }\r\n  }\r\n\r\n  &__other {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 12px;\r\n  }\r\n\r\n  &__other-label {\r\n    width: fit-content;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 16px;\r\n    color: var(--grey-dark);\r\n  }\r\n}\r\ninput.delivery__other-check {\r\n  appearance: none;\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 6px;\r\n  border: 2px solid rgb(158, 158, 158);\r\n  cursor: pointer;\r\n  position: relative;\r\n  transition: $transition;\r\n  &::after {\r\n    content: url(\"@/img/icon/check.svg\");\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n  &:checked {\r\n    border: 2px solid rgb(255, 102, 51);\r\n    background-color: rgb(255, 102, 51);\r\n  }\r\n}\r\n.tab--is-active {\r\n  color: var(--white);\r\n}\r\n\r\n.delivery {\r\n  &__new {\r\n  }\r\n\r\n  &__new-city {\r\n    margin: 24px 0;\r\n    display: flex;\r\n    gap: 12px;\r\n  }\r\n\r\n  &__new-label {\r\n    input {\r\n      appearance: none;\r\n      display: none;\r\n      &:checked + p {\r\n        background-color: rgb(255, 102, 51);\r\n        color: var(--white);\r\n      }\r\n    }\r\n    p {\r\n      border-radius: $border;\r\n      background-color: var(--grey-light);\r\n      padding: 12px;\r\n      color: var(--grey-dark);\r\n      font-weight: 500;\r\n      transition: $transition;\r\n    }\r\n  }\r\n\r\n  &__new-inputs {\r\n    display: flex;\r\n    gap: 12px;\r\n    margin-top: 16px;\r\n    margin-bottom: 24px;\r\n  }\r\n\r\n  &__new-back {\r\n    margin-top: 24px;\r\n    display: flex;\r\n    gap: 16px;\r\n    &__btn {\r\n      padding: 16px;\r\n      border-radius: $border;\r\n      background-color: var(--grey-light);\r\n      width: 290px;\r\n      color: rgb(0, 204, 45);\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      img {\r\n        transform: rotate(90deg);\r\n      }\r\n      &:disabled {\r\n        cursor: default;\r\n      }\r\n    }\r\n    &__text {\r\n      color: rgb(104, 104, 112);\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 12px;\r\n      &::before {\r\n        content: url(\"@/img/icon/info-grey.svg\");\r\n        height: 18px;\r\n      }\r\n    }\r\n    &__box {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n    }\r\n    &__loading {\r\n      color: #929292;\r\n    }\r\n  }\r\n}\r\n// loading\r\n.custom-loading .circular {\r\n  margin-right: 6px;\r\n  width: 25px;\r\n  height: 25px;\r\n  animation: loading-rotate 2s linear infinite;\r\n}\r\n.custom-loading .circular .path {\r\n  animation: loading-dash 1.5s ease-in-out infinite;\r\n  stroke-dasharray: 90, 150;\r\n  stroke-dashoffset: 0;\r\n  stroke-width: 2;\r\n  stroke: #929292;\r\n  stroke-linecap: round;\r\n}\r\n.order {\r\n  &__time {\r\n    border-radius: $border;\r\n    padding: 24px;\r\n    background-color: var(--white);\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  &__time-title {\r\n    color: var(--grey-dark);\r\n    font-size: 24px;\r\n    font-weight: 500;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  &__time-text {\r\n    margin-bottom: 24px;\r\n    color: rgb(104, 104, 112);\r\n    font-size: 14px;\r\n  }\r\n\r\n  &__time-selects {\r\n    display: flex;\r\n    gap: 8px;\r\n  }\r\n\r\n  &__time-select {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 4px;\r\n    flex: 1;\r\n  }\r\n\r\n  &__time-select-title {\r\n    color: rgb(158, 158, 158);\r\n    font-size: 14px;\r\n  }\r\n}\r\n.order-dialog {\r\n  &__check {\r\n    margin-top: 12px;\r\n    display: flex;\r\n    gap: 12px;\r\n    font-size: 18px;\r\n    font-weight: 500;\r\n  }\r\n\r\n  &__check-img {\r\n  }\r\n\r\n  &__check-address {\r\n    color: var(--grey-dark);\r\n  }\r\n\r\n  &__check-green {\r\n    color: rgb(0, 204, 45);\r\n  }\r\n  &__check-red {\r\n    color: red;\r\n  }\r\n}\r\n.order {\r\n  &__payment {\r\n    border-radius: $border;\r\n    background-color: var(--white);\r\n    padding: 24px;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  &__payment-title {\r\n    font-weight: 500;\r\n    font-size: 24px;\r\n    color: var(--grey-dark);\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  &__payment-text {\r\n    color: rgb(104, 104, 112);\r\n    margin-bottom: 24px;\r\n    font-size: 14px;\r\n  }\r\n\r\n  &__payment-list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 12px;\r\n  }\r\n\r\n  &__payment-label {\r\n    display: flex;\r\n    gap: 16px;\r\n    font-size: 16px;\r\n    color: var(--grey-dark);\r\n  }\r\n\r\n  &__payment-radio {\r\n    appearance: none;\r\n    min-width: 24px;\r\n    height: 24px;\r\n    border: 1px solid rgb(158, 158, 158);\r\n    border-radius: 50%;\r\n    position: relative;\r\n    cursor: pointer;\r\n    &::before {\r\n      content: \"\";\r\n      width: 14px;\r\n      height: 14px;\r\n      background-color: transparent;\r\n      border-radius: 50%;\r\n      position: absolute;\r\n      left: 50%;\r\n      top: 50%;\r\n      transform: translate(-50%, -50%);\r\n      transition: $transition;\r\n    }\r\n    &:checked {\r\n      border: 2px solid rgb(255, 102, 51);\r\n      &::before {\r\n        background-color: rgb(255, 102, 51);\r\n      }\r\n    }\r\n  }\r\n\r\n  &__payment-change {\r\n    margin-top: 20px;\r\n  }\r\n\r\n  &__payment-change-input {\r\n    max-width: 205px;\r\n  }\r\n}\r\n.order {\r\n  &__comment {\r\n    background-color: var(--white);\r\n    border-radius: $border;\r\n    padding: 24px;\r\n  }\r\n\r\n  &__comment-title {\r\n    color: var(--grey-dark);\r\n    font-weight: 500;\r\n    font-size: 24px;\r\n    margin-bottom: 24px;\r\n  }\r\n\r\n  &__comment-inputs {\r\n    display: flex;\r\n    gap: 12px;\r\n    margin-bottom: 16px;\r\n  }\r\n  &__comment-textarea {\r\n    margin-bottom: 24px;\r\n    height: 96px;\r\n  }\r\n}\r\n.order-right {\r\n  width: 778px;\r\n  &__drawer {\r\n  }\r\n  .basket-list {\r\n    gap: 20px;\r\n    padding: 0 0 0 16px;\r\n    margin-right: 0;\r\n    overflow-y: hidden;\r\n  }\r\n}\r\n.order-added {\r\n  margin-top: 64px;\r\n}\r\n.order {\r\n  &__total {\r\n    margin-top: 64px;\r\n  }\r\n\r\n  &__total-promokod {\r\n    display: flex;\r\n    margin-bottom: 16px;\r\n    gap: 12px;\r\n  }\r\n\r\n  &__total-promokod-btn {\r\n    background-color: var(--white);\r\n    border-radius: $border;\r\n    height: 56px;\r\n    padding: 0 24px;\r\n    color: rgb(0, 204, 45);\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    &:disabled {\r\n      filter: brightness(0.8);\r\n      cursor: default;\r\n    }\r\n  }\r\n\r\n  &__total-box {\r\n    background-color: var(--white);\r\n    border-radius: $border;\r\n    padding: 16px 24px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n\r\n  &__total-left {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  &__total-text {\r\n    margin-bottom: 8px;\r\n    color: rgb(104, 104, 112);\r\n    font-size: 14px;\r\n  }\r\n\r\n  &__total-btn {\r\n    background-color: rgb(0, 204, 45);\r\n    border-radius: $border;\r\n    height: 56px;\r\n    padding: 0 24px;\r\n    color: var(--white);\r\n    font-size: 16px;\r\n    font-weight: 500;\r\n    &-box {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 5px;\r\n    }\r\n    &:disabled {\r\n      background-color: rgb(197, 197, 197);\r\n      cursor: default;\r\n    }\r\n  }\r\n\r\n  &__total-warning {\r\n    margin-top: 12px;\r\n    color: rgb(255, 102, 51);\r\n    font-size: 16px;\r\n  }\r\n  &__total-price {\r\n    color: var(--grey-dark);\r\n    font-size: 32px;\r\n    font-weight: 700;\r\n    line-height: 80%;\r\n    span {\r\n      color: var(--grey-text);\r\n      font-size: 21px;\r\n      font-weight: 700;\r\n      margin-left: 8px;\r\n    }\r\n  }\r\n  &__total-novalid {\r\n    margin-bottom: 12px;\r\n    color: rgb(244, 72, 55);\r\n    font-size: 16px;\r\n  }\r\n}\r\n.order {\r\n  &__total-list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 12px;\r\n    margin-bottom: 16px;\r\n  }\r\n\r\n  &__total-item {\r\n    background-color: var(--white);\r\n    border-radius: 24px;\r\n    padding: 12px 34px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    position: relative;\r\n  }\r\n\r\n  &__total-list-left {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 16px;\r\n  }\r\n\r\n  &__total-imgwrapper {\r\n    height: 87px;\r\n    width: 107px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  &__total-img {\r\n    object-fit: cover;\r\n  }\r\n\r\n  &__total-info {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    gap: 4px;\r\n  }\r\n\r\n  &__total-list-title {\r\n    font-size: 18px;\r\n    font-weight: 500;\r\n    line-height: 1.3;\r\n    color: var(--grey-dark);\r\n  }\r\n\r\n  &__total-list-weight {\r\n    color: rgb(255, 102, 51);\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n  }\r\n\r\n  &__total-list-right {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 10px;\r\n  }\r\n\r\n  &__total-count {\r\n    font-size: 16px;\r\n    font-weight: 500;\r\n    color: rgb(158, 158, 158);\r\n  }\r\n\r\n  &__total-free {\r\n    color: rgb(0, 204, 45);\r\n    font-size: 18px;\r\n    font-weight: 500;\r\n  }\r\n\r\n  &__total-list-btn {\r\n    width: 32px;\r\n    height: 32px;\r\n    background-color: rgb(204, 245, 213);\r\n    border-radius: 8px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: absolute;\r\n    left: 0;\r\n    transform: translateX(-50%);\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n.order {\r\n  &__person-inputs {\r\n    display: flex;\r\n    gap: 12px;\r\n  }\r\n  // inputs\r\n  .el-form-item {\r\n    flex-direction: column;\r\n    flex-grow: 1;\r\n    margin-bottom: 0;\r\n  }\r\n  .el-form-item__label {\r\n    justify-content: flex-start;\r\n    color: rgb(158, 158, 158);\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    margin-bottom: 4px;\r\n    padding: 0;\r\n    line-height: 1.5;\r\n    height: auto;\r\n  }\r\n  .el-input {\r\n    height: 48px;\r\n    width: 100%;\r\n    background: var(--grey-light);\r\n    border-radius: $border;\r\n    color: var(--grey-dark);\r\n    font-weight: 400;\r\n  }\r\n  .el-input__wrapper {\r\n    flex-grow: 1;\r\n    padding: 12px 16px;\r\n    background-color: transparent;\r\n    border-radius: $border;\r\n    cursor: text;\r\n    transition: none;\r\n    transform: none;\r\n    box-shadow: none;\r\n    &:hover,\r\n    &.is-focus {\r\n      box-shadow: none;\r\n    }\r\n  }\r\n  .el-input__prefix-inner > :last-child {\r\n    margin-right: 16px;\r\n  }\r\n  .el-input__inner {\r\n    --el-input-inner-height: 100%;\r\n    width: 100%;\r\n    color: var(--grey-dark);\r\n    font-size: 16px;\r\n    height: 100%;\r\n    line-height: 1.5;\r\n  }\r\n  .el-input {\r\n    --el-input-placeholder-color: #8f8f8f;\r\n  }\r\n  &__delivery {\r\n    .el-button {\r\n      line-height: 1.5;\r\n      height: auto;\r\n      cursor: pointer;\r\n      color: rgb(255, 102, 51);\r\n      transition: $transition;\r\n      font-weight: 500;\r\n      background-color: transparent;\r\n      border: none;\r\n      border-color: none;\r\n      padding: 0;\r\n      font-size: 16px;\r\n      border-radius: 0;\r\n      span {\r\n        display: flex;\r\n        gap: 13px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .el-form-item.is-required:not(.is-no-asterisk).asterisk-left\r\n    > .el-form-item__label:before {\r\n    content: \"*\";\r\n    color: var(--el-color-danger);\r\n    margin-right: 0;\r\n    margin-left: 5px;\r\n    order: 1;\r\n  }\r\n  .el-autocomplete {\r\n    width: 100%;\r\n  }\r\n  // select\r\n  .el-select__wrapper.is-hovering:not(.is-focused) {\r\n    box-shadow: none;\r\n  }\r\n  .el-select__wrapper {\r\n    font-size: 16px;\r\n    padding: 12px 16px;\r\n    gap: 6px;\r\n    min-height: 48px;\r\n    line-height: inherit;\r\n    border-radius: $border;\r\n    background-color: var(--grey-light);\r\n    box-shadow: none;\r\n  }\r\n  .el-select__suffix {\r\n    i {\r\n      svg {\r\n        display: none;\r\n      }\r\n      &::before {\r\n        content: url(\"@/img/icon/arrow-down-mini.svg\");\r\n        height: 20px;\r\n      }\r\n    }\r\n  }\r\n  .el-select__placeholder {\r\n    color: var(--grey-dark);\r\n    font-size: 16px;\r\n  }\r\n}\r\n.order-select {\r\n  &.el-popper.is-light {\r\n    background: var(--white);\r\n    border: 1px solid #bdbdbd;\r\n  }\r\n  &.el-select-dropdown {\r\n    border-radius: $border;\r\n    overflow: hidden;\r\n  }\r\n  &.el-select__popper.el-popper {\r\n    box-shadow: none;\r\n  }\r\n  .el-select-dropdown__list {\r\n    padding: 0;\r\n  }\r\n  .el-select-dropdown__item.is-selected {\r\n    color: var(--grey-dark);\r\n    font-weight: 700;\r\n  }\r\n  .el-select-dropdown__item.is-hovering {\r\n    background-color: #a1cafa88;\r\n  }\r\n  .el-select-dropdown__item {\r\n    font-size: 16px;\r\n    padding: 5px 10px;\r\n    color: var(--grey-dark);\r\n    height: auto;\r\n    line-height: 1.5;\r\n  }\r\n}\r\n// textarea\r\n.el-textarea__inner {\r\n  padding: 12px 16px;\r\n  line-height: 1.5;\r\n  color: var(--grey-dark);\r\n  background-color: var(--grey-light);\r\n  box-shadow: none;\r\n  border-radius: $border;\r\n  font-size: 16px;\r\n  height: 100%;\r\n}\r\n.el-textarea__inner:hover {\r\n  box-shadow: none;\r\n}\r\n.el-textarea {\r\n  --el-input-placeholder-color: #8f8f8f;\r\n}\r\n\r\n// корзина\r\n.order-right {\r\n  .basket__item {\r\n    background-color: var(--white);\r\n    padding: 12px 34px;\r\n    height: 111px;\r\n    border-radius: 24px;\r\n  }\r\n  .basket-remove {\r\n    border-radius: 8px;\r\n    background: var(--grey-light);\r\n    width: 32px;\r\n    height: 32px;\r\n    svg {\r\n      width: 20px;\r\n      height: 20px;\r\n    }\r\n    &:hover {\r\n      background-color: rgb(255, 102, 51);\r\n    }\r\n  }\r\n  .basket__left {\r\n    gap: 16px;\r\n    align-items: center;\r\n    height: 100%;\r\n  }\r\n  .basket__imgwrapper {\r\n    height: auto;\r\n    width: 107px;\r\n    overflow: hidden;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  .basket__item-title {\r\n    font-size: 18px;\r\n    font-weight: 500;\r\n    margin-bottom: 4px;\r\n    line-height: 1.45;\r\n  }\r\n  .basket__weight {\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n    line-height: 1.5;\r\n  }\r\n  .basket__right {\r\n    gap: 34px;\r\n  }\r\n  .basket__btn {\r\n    width: 32px;\r\n    height: 32px;\r\n    border-radius: 4px;\r\n    background: var(--grey-light);\r\n  }\r\n  .basket-count {\r\n    font-size: 14px;\r\n  }\r\n}\r\n\r\n.order__total {\r\n  .el-input {\r\n    height: 56px;\r\n    width: 214px;\r\n    background: var(--white);\r\n    border-radius: 12px;\r\n    color: #1d1d1f;\r\n    font-weight: 400;\r\n  }\r\n  .el-input__wrapper {\r\n    padding: 12px 24px;\r\n  }\r\n  .el-input {\r\n    --el-input-placeholder-color: rgb(158, 158, 158);\r\n  }\r\n  .el-input__inner {\r\n    font-size: 18px;\r\n    font-weight: 400;\r\n  }\r\n  .el-form-item {\r\n    flex-grow: 0;\r\n  }\r\n  .el-form-item__content {\r\n    flex-direction: column;\r\n    justify-content: flex-end;\r\n  }\r\n}\r\n.el-scrollbar {\r\n  overflow: hidden;\r\n  position: relative;\r\n  height: auto;\r\n}\r\n\r\n// dialog\r\n.el-dialog {\r\n  margin: auto;\r\n  background: var(--white);\r\n  border-radius: $border;\r\n  box-shadow: none;\r\n  width: 1100px;\r\n  padding: 32px;\r\n}\r\n.el-dialog__header {\r\n  padding: 0;\r\n  padding-bottom: 0;\r\n  margin-right: 0;\r\n  margin-bottom: 12px;\r\n  height: min-content;\r\n  span {\r\n    font-size: 32px;\r\n    font-weight: 700;\r\n    color: var(--grey-dark);\r\n    line-height: 1.3;\r\n    display: block;\r\n  }\r\n}\r\n.el-dialog__headerbtn {\r\n  position: absolute;\r\n  top: 32px;\r\n  right: 32px;\r\n  padding: 0;\r\n  width: 32px;\r\n  height: 32px;\r\n  background: var(--grey-light);\r\n  cursor: pointer;\r\n  font-size: 0;\r\n  border-radius: 8px;\r\n  &::after {\r\n    content: url(\"@/img/icon/close.svg\");\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n}\r\n.el-dialog__body {\r\n  padding: 0;\r\n  color: inherit;\r\n  font-size: inherit;\r\n}\r\n\r\n// tooltip\r\n.el-popper[role=\"tooltip\"] {\r\n  color: var(--grey-text);\r\n  background: var(--grey-light);\r\n  border: 1px solid var(--grey-text);\r\n  padding: 10px;\r\n  max-width: 200px;\r\n}\r\n// стрелка\r\n.el-popper[role=\"tooltip\"].el-popper .el-popper__arrow::before {\r\n  border: 1px solid var(--grey-text);\r\n  background: var(--grey-light);\r\n  width: 10px;\r\n  height: 10px;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}