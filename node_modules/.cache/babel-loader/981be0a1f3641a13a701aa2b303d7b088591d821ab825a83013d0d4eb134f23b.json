{"ast":null,"code":"import { watch } from \"vue\";\nexport default {\n  bind(el, binding) {\n    const spinner = document.createElement('div');\n    spinner.className = 'loader-box';\n    spinner.style = 'position: absolute; inset: 0;';\n    spinner.innerHTML = '<div class=\"loader\"></div>';\n    el.appendChild(spinner);\n    console.log('1');\n    el.style.position = 'relative';\n    const unwatch = this.vm.$watch(() => binding.value, newValue => {\n      if (newValue) {\n        spinner.style.display = 'flex';\n      } else {\n        spinner.style.display = 'none';\n      }\n    });\n\n    // Добавляем метод для отписки от наблюдения при удалении директивы\n    el._unbind = unwatch;\n  },\n  unbind(el) {\n    // Отписываемся от наблюдения при удалении директивы\n    el._unbind();\n  },\n  name: 'load'\n};","map":{"version":3,"names":["watch","bind","el","binding","spinner","document","createElement","className","style","innerHTML","appendChild","console","log","position","unwatch","vm","$watch","value","newValue","display","_unbind","unbind","name"],"sources":["C:/gitPages/rol-shop/src/directives/VLoading.js"],"sourcesContent":["import { watch } from \"vue\";\r\n\r\nexport default {\r\n  bind(el, binding) {\r\n    const spinner = document.createElement('div');\r\n    spinner.className = 'loader-box';\r\n    spinner.style = 'position: absolute; inset: 0;'\r\n    spinner.innerHTML = '<div class=\"loader\"></div>'\r\n    el.appendChild(spinner);\r\n    console.log('1')\r\n    el.style.position = 'relative';\r\n    \r\n    const unwatch = this.vm.$watch(() => binding.value, (newValue) => {\r\n      if (newValue) {\r\n        spinner.style.display = 'flex';\r\n      } else {\r\n        spinner.style.display = 'none';\r\n      }\r\n    });\r\n\r\n    // Добавляем метод для отписки от наблюдения при удалении директивы\r\n    el._unbind = unwatch;\r\n  },\r\n  unbind(el) {\r\n    // Отписываемся от наблюдения при удалении директивы\r\n    el._unbind();\r\n  },\r\n  name: 'load'\r\n}"],"mappings":"AAAA,SAASA,KAAK,QAAQ,KAAK;AAE3B,eAAe;EACbC,IAAIA,CAACC,EAAE,EAAEC,OAAO,EAAE;IAChB,MAAMC,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC7CF,OAAO,CAACG,SAAS,GAAG,YAAY;IAChCH,OAAO,CAACI,KAAK,GAAG,+BAA+B;IAC/CJ,OAAO,CAACK,SAAS,GAAG,4BAA4B;IAChDP,EAAE,CAACQ,WAAW,CAACN,OAAO,CAAC;IACvBO,OAAO,CAACC,GAAG,CAAC,GAAG,CAAC;IAChBV,EAAE,CAACM,KAAK,CAACK,QAAQ,GAAG,UAAU;IAE9B,MAAMC,OAAO,GAAG,IAAI,CAACC,EAAE,CAACC,MAAM,CAAC,MAAMb,OAAO,CAACc,KAAK,EAAGC,QAAQ,IAAK;MAChE,IAAIA,QAAQ,EAAE;QACZd,OAAO,CAACI,KAAK,CAACW,OAAO,GAAG,MAAM;MAChC,CAAC,MAAM;QACLf,OAAO,CAACI,KAAK,CAACW,OAAO,GAAG,MAAM;MAChC;IACF,CAAC,CAAC;;IAEF;IACAjB,EAAE,CAACkB,OAAO,GAAGN,OAAO;EACtB,CAAC;EACDO,MAAMA,CAACnB,EAAE,EAAE;IACT;IACAA,EAAE,CAACkB,OAAO,CAAC,CAAC;EACd,CAAC;EACDE,IAAI,EAAE;AACR,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}