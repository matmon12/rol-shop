{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport { provide, ref, watch, computed } from \"vue\";\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n  name: \"App\",\n  components: {},\n  data() {\n    return {};\n  },\n  computed: {\n    ...mapState({\n      favoriteCount: state => state.favorite.favoriteCount\n    })\n  },\n  watch: {\n    cart: {\n      handler(newCart) {\n        // оформление заказа / обнуление\n        this.sushi = this.sushi.map(item => ({\n          ...item,\n          isAdded: false,\n          count: 1\n        }));\n        this.rolls = this.rolls.map(item => ({\n          ...item,\n          isAdded: false,\n          count: 1\n        }));\n        this.sets = this.sets.map(item => ({\n          ...item,\n          isAdded: false,\n          count: 1\n        }));\n        this.snacks = this.snacks.map(item => ({\n          ...item,\n          isAdded: false,\n          count: 1\n        }));\n        this.drinks = this.drinks.map(item => ({\n          ...item,\n          isAdded: false,\n          count: 1\n        }));\n        this.slides = this.slides.map(item => ({\n          ...item,\n          isAdded: false\n        }));\n        this.favorites = this.favorites.map(item => ({\n          ...item,\n          isAdded: false\n        }));\n        this.categores = this.categores.map(item => ({\n          ...item,\n          isAdded: false\n        }));\n        this.slidesTovar = this.slidesTovar.map(item => ({\n          ...item,\n          isAdded: false\n        }));\n        this.products = this.products.map(item => ({\n          ...item,\n          isAdded: false\n        }));\n        this.product.isAdded ? this.product.isAdded = false : null;\n      }\n    },\n    favoriteCount: {\n      handler() {\n        this.countFavorite = this.favoriteCount;\n      }\n    }\n  },\n  methods: {\n    ...mapMutations({\n      setFavoriteCount: \"favorite/setFavoriteCount\"\n    }),\n    async fetchFavoritesCount() {\n      try {\n        const {\n          data\n        } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/favorites`);\n        this.countFavorite = data.length;\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  },\n  mounted() {\n    // получение корзины\n    const localCart = localStorage.getItem(\"cart\");\n    this.cart = localCart ? JSON.parse(localCart) : [];\n\n    // история получение данных\n    const historyCart = localStorage.getItem(\"order\");\n    this.historyOrder = historyCart ? JSON.parse(historyCart) : [];\n\n    // кол-во favorites\n    this.fetchFavoritesCount().then(() => {\n      this.setFavoriteCount(this.countFavorite);\n    });\n  },\n  setup() {\n    const favorites = ref([]);\n    const countFavorite = ref(0);\n    const slides = ref([]);\n    const cart = ref([]);\n    const sushi = ref([]);\n    const rolls = ref([]);\n    const sets = ref([]);\n    const snacks = ref([]);\n    const drinks = ref([]);\n    const drawerOpen = ref(false);\n    const historyOrder = ref([]);\n    const categores = ref([]);\n    const product = ref([]);\n    const slidesTovar = ref([]);\n    const address = ref([]);\n    const products = ref([]);\n    const categoryMap = {\n      sushi: sushi,\n      rolls: rolls,\n      sets: sets,\n      snacks: snacks,\n      drinks: drinks\n    };\n    const area = \"22.555291,46.410475,39.940511,52.517961\";\n    const totalPrice = computed(() => {\n      return cart.value.reduce((acc, item) => acc + item.price * item.count, 0);\n    });\n    watch(cart, () => {\n      localStorage.setItem(\"cart\", JSON.stringify(cart.value));\n    }, {\n      deep: true\n    });\n    const closeDrawer = () => {\n      drawerOpen.value = false;\n    };\n    const openDrawer = () => {\n      drawerOpen.value = true;\n    };\n    const addToCart = item => {\n      cart.value.push(item);\n      item.isAdded = true;\n\n      // слайды\n      CartSync(item, true);\n    };\n    const removeFromCart = item => {\n      // из корзины\n      let index = -1;\n      for (let i = 0; i < cart.value.length; i++) {\n        if (cart.value[i].id === item.id) {\n          index = i;\n          break;\n        }\n      }\n      if (index !== -1) {\n        cart.value.splice(index, 1);\n      }\n      // карточка\n      categoryMap[item.category].value.forEach(pl => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // карточка favorites\n      favorites.value.forEach(pl => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // карточка categores\n      categores.value.forEach(pl => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // карточка sliderTovar\n      slidesTovar.value.forEach(pl => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // слайдер заказ оформление\n      products.value.forEach(pl => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // товар\n      product.value.isAdded = false;\n      product.value.count = 1;\n      // слайды\n      CartSync(item, false);\n    };\n\n    // синхрон добавления в корзину между карточками и слайдером\n    const CartSync = (item, check) => {\n      slides.value = slides.value.map(el => {\n        if (el.id == item.id) {\n          return {\n            ...el,\n            isAdded: check\n          };\n        } else {\n          return el;\n        }\n      });\n    };\n\n    // кол-во товара\n    const countPlus = item => {\n      item.count = item.count + 1;\n    };\n    const countMinus = item => {\n      if (item.count > 1) {\n        item.count = item.count - 1;\n      }\n    };\n    provide(\"items\", {\n      sushi,\n      rolls,\n      sets,\n      snacks,\n      drinks,\n      slides,\n      favorites,\n      countFavorite,\n      categores,\n      product,\n      slidesTovar,\n      products\n    });\n    provide(\"cart\", {\n      cart,\n      addToCart,\n      removeFromCart,\n      closeDrawer,\n      openDrawer,\n      drawerOpen,\n      countPlus,\n      countMinus,\n      historyOrder,\n      totalPrice\n    });\n    provide(\"address\", {\n      address,\n      area\n    });\n    return {\n      sushi,\n      rolls,\n      sets,\n      snacks,\n      drinks,\n      cart,\n      addToCart,\n      removeFromCart,\n      closeDrawer,\n      openDrawer,\n      drawerOpen,\n      slides,\n      countPlus,\n      countMinus,\n      totalPrice,\n      historyOrder,\n      favorites,\n      countFavorite,\n      categores,\n      product,\n      slidesTovar,\n      products\n    };\n  }\n};","map":{"version":3,"names":["axios","provide","ref","watch","computed","mapState","mapMutations","name","components","data","favoriteCount","state","favorite","cart","handler","newCart","sushi","map","item","isAdded","count","rolls","sets","snacks","drinks","slides","favorites","categores","slidesTovar","products","product","countFavorite","methods","setFavoriteCount","fetchFavoritesCount","get","length","err","console","log","mounted","localCart","localStorage","getItem","JSON","parse","historyCart","historyOrder","then","setup","drawerOpen","address","categoryMap","area","totalPrice","value","reduce","acc","price","setItem","stringify","deep","closeDrawer","openDrawer","addToCart","push","CartSync","removeFromCart","index","i","id","splice","category","forEach","pl","check","el","countPlus","countMinus"],"sources":["C:\\gitPages\\rol-shop\\src\\App.vue"],"sourcesContent":["<template>\n  <div class=\"app\">\n    <div class=\"app-top\">\n      <Drawer v-if=\"drawerOpen\" :total-price=\"totalPrice\" class=\"basket\" />\n      <Header\n        @open-drawer=\"openDrawer\"\n        @close-drawer=\"closeDrawer\"\n        :notif-count=\"2\"\n        :favorite-count=\"countFavorite\"\n        :cart-count=\"cart.length\"\n      />\n    </div>\n    <router-view></router-view>\n\n    <Footer />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { provide, ref, watch, computed } from \"vue\";\nimport { mapState, mapMutations } from \"vuex\";\n\nexport default {\n  name: \"App\",\n  components: {\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    ...mapState({\n      favoriteCount: (state) => state.favorite.favoriteCount,\n    }),\n  },\n  watch: {\n    cart: {\n      handler(newCart) {\n        // оформление заказа / обнуление\n        this.sushi = this.sushi.map((item) => ({ ...item, isAdded: false, count: 1 }));\n        this.rolls = this.rolls.map((item) => ({ ...item, isAdded: false, count: 1 }));\n        this.sets = this.sets.map((item) => ({ ...item, isAdded: false, count: 1 }));\n        this.snacks = this.snacks.map((item) => ({ ...item, isAdded: false, count: 1 }));\n        this.drinks = this.drinks.map((item) => ({ ...item, isAdded: false, count: 1 }));\n\n        this.slides = this.slides.map((item) => ({ ...item, isAdded: false }));\n        this.favorites = this.favorites.map((item) => ({ ...item, isAdded: false }));\n        this.categores = this.categores.map((item) => ({ ...item, isAdded: false }));\n        this.slidesTovar = this.slidesTovar.map((item) => ({ ...item, isAdded: false }));\n        this.products = this.products.map((item) => ({ ...item, isAdded: false }));\n        this.product.isAdded ? this.product.isAdded = false : null;\n      },\n    },\n    favoriteCount: {\n      handler() {\n        this.countFavorite = this.favoriteCount;\n      },\n    },\n  },\n  methods: {\n    ...mapMutations({\n      setFavoriteCount: \"favorite/setFavoriteCount\",\n    }),\n    async fetchFavoritesCount() {\n      try {\n        const { data } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/favorites`);\n        this.countFavorite = data.length;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n  },\n  mounted() {\n    // получение корзины\n    const localCart = localStorage.getItem(\"cart\");\n    this.cart = localCart ? JSON.parse(localCart) : [];\n\n    // история получение данных\n    const historyCart = localStorage.getItem(\"order\");\n    this.historyOrder = historyCart ? JSON.parse(historyCart) : [];\n\n    // кол-во favorites\n    this.fetchFavoritesCount().then(() => {\n      this.setFavoriteCount(this.countFavorite);\n    });\n  },\n  setup() {\n    const favorites = ref([]);\n    const countFavorite = ref(0);\n    const slides = ref([]);\n    const cart = ref([]);\n    const sushi = ref([]);\n    const rolls = ref([]);\n    const sets = ref([]);\n    const snacks = ref([]);\n    const drinks = ref([]);\n    const drawerOpen = ref(false);\n    const historyOrder = ref([]);\n    const categores = ref([]);\n    const product = ref([]);\n    const slidesTovar = ref([]);\n    const address = ref([]);\n    const products = ref([]);\n\n\n    const categoryMap = {\n      sushi: sushi,\n      rolls: rolls,\n      sets: sets,\n      snacks: snacks,\n      drinks: drinks,\n    };\n\n    const area = \"22.555291,46.410475,39.940511,52.517961\";\n\n    const totalPrice = computed(() => {\n      return cart.value.reduce((acc, item) => acc + item.price * item.count, 0);\n    });\n\n    watch(\n      cart,\n      () => {\n        localStorage.setItem(\"cart\", JSON.stringify(cart.value));\n      },\n      { deep: true }\n    );\n\n    const closeDrawer = () => {\n      drawerOpen.value = false;\n    };\n\n    const openDrawer = () => {\n      drawerOpen.value = true;\n    };\n\n    const addToCart = (item) => {\n      cart.value.push(item);\n      item.isAdded = true;\n\n      // слайды\n      CartSync(item, true);\n    };\n\n    const removeFromCart = (item) => {\n      // из корзины\n      let index = -1;\n      for (let i = 0; i < cart.value.length; i++) {\n        if (cart.value[i].id === item.id) {\n          index = i;\n          break;\n        }\n      }\n      if (index !== -1) {\n        cart.value.splice(index, 1);\n      }\n      // карточка\n      categoryMap[item.category].value.forEach((pl) => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // карточка favorites\n      favorites.value.forEach((pl) => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // карточка categores\n      categores.value.forEach((pl) => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // карточка sliderTovar\n      slidesTovar.value.forEach((pl) => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // слайдер заказ оформление\n      products.value.forEach((pl) => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // товар\n      product.value.isAdded = false;\n      product.value.count = 1;\n      // слайды\n      CartSync(item, false);\n    };\n\n    // синхрон добавления в корзину между карточками и слайдером\n    const CartSync = (item, check) => {\n      slides.value = slides.value.map((el) => {\n        if (el.id == item.id) {\n          return {\n            ...el,\n            isAdded: check,\n          };\n        } else {\n          return el;\n        }\n      });\n    };\n\n    // кол-во товара\n    const countPlus = (item) => {\n      item.count = item.count + 1;\n    };\n    const countMinus = (item) => {\n      if (item.count > 1) {\n        item.count = item.count - 1;\n      }\n    };\n\n    provide(\"items\", {\n      sushi,\n      rolls,\n      sets,\n      snacks,\n      drinks,\n      slides,\n      favorites,\n      countFavorite,\n      categores,\n      product,\n      slidesTovar,\n      products\n    });\n\n    provide(\"cart\", {\n      cart,\n      addToCart,\n      removeFromCart,\n      closeDrawer,\n      openDrawer,\n      drawerOpen,\n      countPlus,\n      countMinus,\n      historyOrder,\n      totalPrice\n    });\n\n    provide(\"address\", {\n      address,\n      area\n    });\n\n    return {\n      sushi,\n      rolls,\n      sets,\n      snacks,\n      drinks,\n      cart,\n      addToCart,\n      removeFromCart,\n      closeDrawer,\n      openDrawer,\n      drawerOpen,\n      slides,\n      countPlus,\n      countMinus,\n      totalPrice,\n      historyOrder,\n      favorites,\n      countFavorite,\n      categores,\n      product,\n      slidesTovar,\n      products\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.app {\n  padding-top: 122px;\n}\n.app-top {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  z-index: 200;\n}\n.basket {\n  height: 100vh;\n  background: rgba(26, 26, 26, 0.4);\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: -1;\n  padding-top: 122px;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}