{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineComponent } from 'vue';\nimport '../../../utils/index.mjs';\nimport { getNormalizedProps, isSameSteps } from './helper.mjs';\nimport { isArray } from '@vue/shared';\nimport { flattedChildren } from '../../../utils/vue/vnode.mjs';\nvar ElTourSteps = defineComponent({\n  name: \"ElTourSteps\",\n  props: {\n    current: {\n      type: Number,\n      default: 0\n    }\n  },\n  emits: [\"update-steps\"],\n  setup(props, {\n    slots,\n    emit\n  }) {\n    let cachedSteps = [];\n    return () => {\n      var _a, _b;\n      const children = (_a = slots.default) == null ? void 0 : _a.call(slots);\n      const filteredSteps = [];\n      const result = [];\n      function filterSteps(children2) {\n        if (!isArray(children2)) return;\n        children2.forEach(item => {\n          var _a2;\n          const name = (_a2 = (item == null ? void 0 : item.type) || {}) == null ? void 0 : _a2.name;\n          if (name === \"ElTourStep\") {\n            const booleanKeys = [\"showArrow\", \"mask\", \"scrollIntoViewOptions\"];\n            filteredSteps.push(getNormalizedProps(item, booleanKeys));\n            result.push(item);\n          }\n        });\n      }\n      if (children.length) {\n        filterSteps(flattedChildren((_b = children[0]) == null ? void 0 : _b.children));\n      }\n      if (!isSameSteps(filteredSteps, cachedSteps)) {\n        cachedSteps = filteredSteps;\n        emit(\"update-steps\", filteredSteps);\n      }\n      if (result.length) {\n        return result[props.current];\n      }\n      return null;\n    };\n  }\n});\nexport { ElTourSteps as default };","map":{"version":3,"names":["ElTourSteps","defineComponent","name","props","current","type","Number","default","emits","setup","slots","emit","cachedSteps","_a","_b","children","call","filteredSteps","result","filterSteps","children2","isArray","forEach","item","_a2","booleanKeys","push","getNormalizedProps","length","flattedChildren","isSameSteps"],"sources":["../../../../../../packages/components/tour/src/steps.ts"],"sourcesContent":["import { defineComponent } from 'vue'\nimport { flattedChildren, isArray } from '@element-plus/utils'\nimport { getNormalizedProps, isSameSteps } from './helper'\nimport type { FlattenVNodes } from '@element-plus/utils'\nimport type { Component, VNode } from 'vue'\n\nexport default defineComponent({\n  name: 'ElTourSteps',\n  props: {\n    current: {\n      type: Number,\n      default: 0,\n    },\n  },\n  emits: ['update-steps'],\n  setup(props, { slots, emit }) {\n    let cachedSteps: any[] = []\n\n    return () => {\n      const children = slots.default?.()!\n      const filteredSteps: any[] = []\n      const result: VNode[] = []\n\n      function filterSteps(children?: FlattenVNodes) {\n        if (!isArray(children)) return\n        ;(children as VNode[]).forEach((item) => {\n          const name = ((item?.type || {}) as Component)?.name\n\n          if (name === 'ElTourStep') {\n            const booleanKeys = ['showArrow', 'mask', 'scrollIntoViewOptions']\n            filteredSteps.push(getNormalizedProps(item, booleanKeys))\n            result.push(item)\n          }\n        })\n      }\n\n      if (children.length) {\n        filterSteps(flattedChildren(children![0]?.children))\n      }\n\n      if (!isSameSteps(filteredSteps, cachedSteps)) {\n        cachedSteps = filteredSteps\n        emit('update-steps', filteredSteps)\n      }\n\n      if (result.length) {\n        return result[props.current]\n      }\n      return null\n    }\n  },\n})\n"],"mappings":";;;;;;AAGA,IAAAA,WAAA,GAAeC,eAAe,CAAC;EAC7BC,IAAI,EAAE,aAAa;EACnBC,KAAK,EAAE;IACLC,OAAO,EAAE;MACPC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACf;EACA,CAAG;EACDC,KAAK,EAAE,CAAC,cAAc,CAAC;EACvBC,KAAKA,CAACN,KAAK,EAAE;IAAEO,KAAK;IAAEC;EAAI,CAAE,EAAE;IAC5B,IAAIC,WAAW,GAAG,EAAE;IACpB,OAAO,MAAM;MACX,IAAIC,EAAE,EAAEC,EAAE;MACV,MAAMC,QAAQ,GAAG,CAACF,EAAE,GAAGH,KAAK,CAACH,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGM,EAAE,CAACG,IAAI,CAACN,KAAK,CAAC;MACvE,MAAMO,aAAa,GAAG,EAAE;MACxB,MAAMC,MAAM,GAAG,EAAE;MACjB,SAASC,WAAWA,CAACC,SAAS,EAAE;QAC9B,IAAI,CAACC,OAAO,CAACD,SAAS,CAAC,EACrB;QACFA,SAAS,CAACE,OAAO,CAAEC,IAAI,IAAK;UAC1B,IAAIC,GAAG;UACP,MAAMtB,IAAI,GAAG,CAACsB,GAAG,GAAG,CAACD,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAClB,IAAI,KAAK,EAAE,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGmB,GAAG,CAACtB,IAAI;UAC1F,IAAIA,IAAI,KAAK,YAAY,EAAE;YACzB,MAAMuB,WAAW,GAAG,CAAC,WAAW,EAAE,MAAM,EAAE,uBAAuB,CAAC;YAClER,aAAa,CAACS,IAAI,CAACC,kBAAkB,CAACJ,IAAI,EAAEE,WAAW,CAAC,CAAC;YACzDP,MAAM,CAACQ,IAAI,CAACH,IAAI,CAAC;UAC7B;QACA,CAAS,CAAC;MACV;MACM,IAAIR,QAAQ,CAACa,MAAM,EAAE;QACnBT,WAAW,CAACU,eAAe,CAAC,CAACf,EAAE,GAAGC,QAAQ,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGD,EAAE,CAACC,QAAQ,CAAC,CAAC;MACvF;MACM,IAAI,CAACe,WAAW,CAACb,aAAa,EAAEL,WAAW,CAAC,EAAE;QAC5CA,WAAW,GAAGK,aAAa;QAC3BN,IAAI,CAAC,cAAc,EAAEM,aAAa,CAAC;MAC3C;MACM,IAAIC,MAAM,CAACU,MAAM,EAAE;QACjB,OAAOV,MAAM,CAACf,KAAK,CAACC,OAAO,CAAC;MACpC;MACM,OAAO,IAAI;IACjB,CAAK;EACL;AACA,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}