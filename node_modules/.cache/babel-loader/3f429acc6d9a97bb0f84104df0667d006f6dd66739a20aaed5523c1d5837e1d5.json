{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport { provide, ref, watch, computed } from \"vue\";\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n  name: \"App\",\n  components: {},\n  data() {\n    return {\n      ordersCount: 0\n    };\n  },\n  computed: {\n    ...mapState({\n      favoriteCount: state => state.favorite.favoriteCount\n    })\n  },\n  watch: {\n    cart: {\n      handler(newCart) {\n        // оформление заказа / обнуление\n        // this.sushi = this.sushi.map((item) => ({ ...item, isAdded: false, count: 1 }));\n        // this.rolls = this.rolls.map((item) => ({ ...item, isAdded: false, count: 1 }));\n        // this.sets = this.sets.map((item) => ({ ...item, isAdded: false, count: 1 }));\n        // this.snacks = this.snacks.map((item) => ({ ...item, isAdded: false, count: 1 }));\n        // this.drinks = this.drinks.map((item) => ({ ...item, isAdded: false, count: 1 }));\n        // this.slides = this.slides.map((item) => ({ ...item, isAdded: false }));\n        // this.favorites = this.favorites.map((item) => ({ ...item, isAdded: false }));\n        // this.categores = this.categores.map((item) => ({ ...item, isAdded: false }));\n        // this.slidesTovar = this.slidesTovar.map((item) => ({ ...item, isAdded: false }));\n        // this.products = this.products.map((item) => ({ ...item, isAdded: false }));\n        // this.product.isAdded ? this.product.isAdded = false : null;\n      }\n    },\n    favoriteCount: {\n      handler() {\n        this.countFavorite = this.favoriteCount;\n      }\n    }\n  },\n  methods: {\n    ...mapMutations({\n      setFavoriteCount: \"favorite/setFavoriteCount\"\n    }),\n    async fetchFavoritesCount() {\n      try {\n        const {\n          data\n        } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/favorites`);\n        this.countFavorite = data.length;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    async fetchOrdersCount() {\n      try {\n        const {\n          data\n        } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/orders`);\n        this.ordersCount = data.length;\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  },\n  mounted() {\n    // получение корзины\n    const localCart = localStorage.getItem(\"cart\");\n    this.cart = localCart ? JSON.parse(localCart) : [];\n\n    // номер заказа получение данных\n    this.historyOrder = localStorage.getItem(\"order\");\n\n    // кол-во favorites\n    this.fetchFavoritesCount().then(() => {\n      this.setFavoriteCount(this.countFavorite);\n    });\n\n    // кол-во заказов\n    this.fetchOrdersCount().then(() => {\n      if (!this.historyOrder) {\n        // номер заказа в localStorage\n        this.historyOrder = 83700;\n        localStorage.setItem(\"order\", JSON.stringify(this.historyOrder));\n      }\n    });\n  },\n  setup() {\n    const favorites = ref([]);\n    const countFavorite = ref(0);\n    const slides = ref([]);\n    const cart = ref([]);\n    const sushi = ref([]);\n    const rolls = ref([]);\n    const sets = ref([]);\n    const snacks = ref([]);\n    const drinks = ref([]);\n    const drawerOpen = ref(false);\n    const historyOrder = ref([]);\n    const categores = ref([]);\n    const product = ref([]);\n    const slidesTovar = ref([]);\n    const address = ref([]);\n    const products = ref([]);\n    const categoryMap = {\n      sushi: sushi,\n      rolls: rolls,\n      sets: sets,\n      snacks: snacks,\n      drinks: drinks\n    };\n    const area = \"22.555291,46.410475,39.940511,52.517961\";\n    const totalPrice = computed(() => {\n      return cart.value.reduce((acc, item) => acc + item.price * item.count, 0);\n    });\n    watch(cart, () => {\n      localStorage.setItem(\"cart\", JSON.stringify(cart.value));\n    }, {\n      deep: true\n    });\n    const closeDrawer = () => {\n      drawerOpen.value = false;\n    };\n    const openDrawer = () => {\n      drawerOpen.value = true;\n    };\n    const addToCart = item => {\n      cart.value.push(item);\n      item.isAdded = true;\n\n      // слайды\n      CartSync(item, true);\n    };\n    const removeFromCart = item => {\n      // из корзины\n      let index = -1;\n      for (let i = 0; i < cart.value.length; i++) {\n        if (cart.value[i].id === item.id) {\n          index = i;\n          break;\n        }\n      }\n      if (index !== -1) {\n        cart.value.splice(index, 1);\n      }\n      // карточка\n      categoryMap[item.category].value.forEach(pl => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // карточка favorites\n      favorites.value.forEach(pl => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // карточка categores\n      categores.value.forEach(pl => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // карточка sliderTovar\n      slidesTovar.value.forEach(pl => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // слайдер заказ оформление\n      products.value.forEach(pl => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // товар\n      product.value.isAdded = false;\n      product.value.count = 1;\n      // слайды\n      CartSync(item, false);\n    };\n\n    // синхрон добавления в корзину между карточками и слайдером\n    const CartSync = (item, check) => {\n      slides.value = slides.value.map(el => {\n        if (el.id == item.id) {\n          return {\n            ...el,\n            isAdded: check\n          };\n        } else {\n          return el;\n        }\n      });\n    };\n\n    // кол-во товара\n    const countPlus = item => {\n      item.count = item.count + 1;\n    };\n    const countMinus = item => {\n      if (item.count > 1) {\n        item.count = item.count - 1;\n      }\n    };\n    provide(\"items\", {\n      sushi,\n      rolls,\n      sets,\n      snacks,\n      drinks,\n      slides,\n      favorites,\n      countFavorite,\n      categores,\n      product,\n      slidesTovar,\n      products\n    });\n    provide(\"cart\", {\n      cart,\n      addToCart,\n      removeFromCart,\n      closeDrawer,\n      openDrawer,\n      drawerOpen,\n      countPlus,\n      countMinus,\n      historyOrder,\n      totalPrice,\n      ordersCount\n    });\n    provide(\"address\", {\n      address,\n      area\n    });\n    return {\n      sushi,\n      rolls,\n      sets,\n      snacks,\n      drinks,\n      cart,\n      addToCart,\n      removeFromCart,\n      closeDrawer,\n      openDrawer,\n      drawerOpen,\n      slides,\n      countPlus,\n      countMinus,\n      totalPrice,\n      historyOrder,\n      favorites,\n      countFavorite,\n      categores,\n      product,\n      slidesTovar,\n      products\n    };\n  }\n};","map":{"version":3,"names":["axios","provide","ref","watch","computed","mapState","mapMutations","name","components","data","ordersCount","favoriteCount","state","favorite","cart","handler","newCart","countFavorite","methods","setFavoriteCount","fetchFavoritesCount","get","length","err","console","log","fetchOrdersCount","mounted","localCart","localStorage","getItem","JSON","parse","historyOrder","then","setItem","stringify","setup","favorites","slides","sushi","rolls","sets","snacks","drinks","drawerOpen","categores","product","slidesTovar","address","products","categoryMap","area","totalPrice","value","reduce","acc","item","price","count","deep","closeDrawer","openDrawer","addToCart","push","isAdded","CartSync","removeFromCart","index","i","id","splice","category","forEach","pl","check","map","el","countPlus","countMinus"],"sources":["C:\\gitPages\\rol-shop\\src\\App.vue"],"sourcesContent":["<template>\n  <div class=\"app\">\n    <div class=\"app-top\">\n      <Drawer v-if=\"drawerOpen\" :total-price=\"totalPrice\" class=\"basket\" />\n      <Header\n        @open-drawer=\"openDrawer\"\n        @close-drawer=\"closeDrawer\"\n        :notif-count=\"2\"\n        :favorite-count=\"countFavorite\"\n        :cart-count=\"cart.length\"\n      />\n    </div>\n    <router-view></router-view>\n\n    <Footer />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { provide, ref, watch, computed } from \"vue\";\nimport { mapState, mapMutations } from \"vuex\";\n\nexport default {\n  name: \"App\",\n  components: {},\n  data() {\n    return {\n      ordersCount: 0\n    };\n  },\n  computed: {\n    ...mapState({\n      favoriteCount: (state) => state.favorite.favoriteCount,\n    }),\n  },\n  watch: {\n    cart: {\n      handler(newCart) {\n        // оформление заказа / обнуление\n        // this.sushi = this.sushi.map((item) => ({ ...item, isAdded: false, count: 1 }));\n        // this.rolls = this.rolls.map((item) => ({ ...item, isAdded: false, count: 1 }));\n        // this.sets = this.sets.map((item) => ({ ...item, isAdded: false, count: 1 }));\n        // this.snacks = this.snacks.map((item) => ({ ...item, isAdded: false, count: 1 }));\n        // this.drinks = this.drinks.map((item) => ({ ...item, isAdded: false, count: 1 }));\n        // this.slides = this.slides.map((item) => ({ ...item, isAdded: false }));\n        // this.favorites = this.favorites.map((item) => ({ ...item, isAdded: false }));\n        // this.categores = this.categores.map((item) => ({ ...item, isAdded: false }));\n        // this.slidesTovar = this.slidesTovar.map((item) => ({ ...item, isAdded: false }));\n        // this.products = this.products.map((item) => ({ ...item, isAdded: false }));\n        // this.product.isAdded ? this.product.isAdded = false : null;\n      },\n    },\n    favoriteCount: {\n      handler() {\n        this.countFavorite = this.favoriteCount;\n      },\n    },\n  },\n  methods: {\n    ...mapMutations({\n      setFavoriteCount: \"favorite/setFavoriteCount\",\n    }),\n    async fetchFavoritesCount() {\n      try {\n        const { data } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/favorites`);\n        this.countFavorite = data.length;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    async fetchOrdersCount() {\n      try {\n        const { data } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/orders`);\n        this.ordersCount = data.length;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n  },\n  mounted() {\n    // получение корзины\n    const localCart = localStorage.getItem(\"cart\");\n    this.cart = localCart ? JSON.parse(localCart) : [];\n\n    // номер заказа получение данных\n    this.historyOrder = localStorage.getItem(\"order\");\n\n    // кол-во favorites\n    this.fetchFavoritesCount().then(() => {\n      this.setFavoriteCount(this.countFavorite);\n    });\n\n    // кол-во заказов\n    this.fetchOrdersCount().then(() => {\n      if (!this.historyOrder ) {\n      // номер заказа в localStorage\n      this.historyOrder = 83700;\n      localStorage.setItem(\"order\", JSON.stringify(this.historyOrder));\n    }\n    })\n  },\n  setup() {\n    const favorites = ref([]);\n    const countFavorite = ref(0);\n    const slides = ref([]);\n    const cart = ref([]);\n    const sushi = ref([]);\n    const rolls = ref([]);\n    const sets = ref([]);\n    const snacks = ref([]);\n    const drinks = ref([]);\n    const drawerOpen = ref(false);\n    const historyOrder = ref([]);\n    const categores = ref([]);\n    const product = ref([]);\n    const slidesTovar = ref([]);\n    const address = ref([]);\n    const products = ref([]);\n\n    const categoryMap = {\n      sushi: sushi,\n      rolls: rolls,\n      sets: sets,\n      snacks: snacks,\n      drinks: drinks,\n    };\n\n    const area = \"22.555291,46.410475,39.940511,52.517961\";\n\n    const totalPrice = computed(() => {\n      return cart.value.reduce((acc, item) => acc + item.price * item.count, 0);\n    });\n\n    watch(\n      cart,\n      () => {\n        localStorage.setItem(\"cart\", JSON.stringify(cart.value));\n      },\n      { deep: true }\n    );\n\n    const closeDrawer = () => {\n      drawerOpen.value = false;\n    };\n\n    const openDrawer = () => {\n      drawerOpen.value = true;\n    };\n\n    const addToCart = (item) => {\n      cart.value.push(item);\n      item.isAdded = true;\n\n      // слайды\n      CartSync(item, true);\n    };\n\n    const removeFromCart = (item) => {\n      // из корзины\n      let index = -1;\n      for (let i = 0; i < cart.value.length; i++) {\n        if (cart.value[i].id === item.id) {\n          index = i;\n          break;\n        }\n      }\n      if (index !== -1) {\n        cart.value.splice(index, 1);\n      }\n      // карточка\n      categoryMap[item.category].value.forEach((pl) => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // карточка favorites\n      favorites.value.forEach((pl) => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // карточка categores\n      categores.value.forEach((pl) => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // карточка sliderTovar\n      slidesTovar.value.forEach((pl) => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // слайдер заказ оформление\n      products.value.forEach((pl) => {\n        if (pl.id === item.id) {\n          pl.isAdded = false;\n          pl.count = 1;\n        }\n      });\n      // товар\n      product.value.isAdded = false;\n      product.value.count = 1;\n      // слайды\n      CartSync(item, false);\n    };\n\n    // синхрон добавления в корзину между карточками и слайдером\n    const CartSync = (item, check) => {\n      slides.value = slides.value.map((el) => {\n        if (el.id == item.id) {\n          return {\n            ...el,\n            isAdded: check,\n          };\n        } else {\n          return el;\n        }\n      });\n    };\n\n    // кол-во товара\n    const countPlus = (item) => {\n      item.count = item.count + 1;\n    };\n    const countMinus = (item) => {\n      if (item.count > 1) {\n        item.count = item.count - 1;\n      }\n    };\n\n    provide(\"items\", {\n      sushi,\n      rolls,\n      sets,\n      snacks,\n      drinks,\n      slides,\n      favorites,\n      countFavorite,\n      categores,\n      product,\n      slidesTovar,\n      products,\n    });\n\n    provide(\"cart\", {\n      cart,\n      addToCart,\n      removeFromCart,\n      closeDrawer,\n      openDrawer,\n      drawerOpen,\n      countPlus,\n      countMinus,\n      historyOrder,\n      totalPrice,\n      ordersCount\n    });\n\n    provide(\"address\", {\n      address,\n      area,\n    });\n\n    return {\n      sushi,\n      rolls,\n      sets,\n      snacks,\n      drinks,\n      cart,\n      addToCart,\n      removeFromCart,\n      closeDrawer,\n      openDrawer,\n      drawerOpen,\n      slides,\n      countPlus,\n      countMinus,\n      totalPrice,\n      historyOrder,\n      favorites,\n      countFavorite,\n      categores,\n      product,\n      slidesTovar,\n      products,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.app {\n  padding-top: 122px;\n}\n.app-top {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  z-index: 200;\n}\n.basket {\n  height: 100vh;\n  background: rgba(26, 26, 26, 0.4);\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: -1;\n  padding-top: 122px;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}