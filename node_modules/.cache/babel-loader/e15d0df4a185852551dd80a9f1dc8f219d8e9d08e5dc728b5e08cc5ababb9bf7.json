{"ast":null,"code":"import axios from \"axios\";\nexport const favoriteModule = {\n  state: () => ({\n    favoriteCount: 0\n  }),\n  mutations: {\n    setFavoriteCount(state, favoriteCount) {\n      state.favoriteCount = favoriteCount;\n    }\n  },\n  actions: {\n    async addToFavorite({\n      state,\n      commit\n    }, item) {\n      try {\n        if (!item.isFavorite) {\n          const obj = {\n            item_id: item.id,\n            item: item\n          };\n          item.isFavorite = true;\n          const {\n            data\n          } = await axios.post(`https://c2ff7a8de0a119c8.mokky.dev/favorites`, obj);\n          item.favoriteId = data.id;\n          commit('setFavoriteCount', state.favoriteCount + 1);\n        } else {\n          item.isFavorite = false;\n          await axios.delete(`https://c2ff7a8de0a119c8.mokky.dev/favorites/${item.favoriteId}`);\n          item.favoriteId = null;\n          commit('setFavoriteCount', state.favoriteCount == 0 ? state.favoriteCount : state.favoriteCount - 1);\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  },\n  namespaced: true\n};","map":{"version":3,"names":["axios","favoriteModule","state","favoriteCount","mutations","setFavoriteCount","actions","addToFavorite","commit","item","isFavorite","obj","item_id","id","data","post","favoriteId","delete","err","console","log","namespaced"],"sources":["C:/gitPages/rol-shop/src/store/favoriteModule.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n\r\nexport const favoriteModule = {\r\n  state: () => ({\r\n    favoriteCount: 0\r\n  }),\r\n  mutations: {\r\n    setFavoriteCount(state, favoriteCount) {\r\n      state.favoriteCount = favoriteCount;\r\n    }\r\n  },\r\n  actions: {\r\n    async addToFavorite({ state, commit }, item) {\r\n      try {\r\n        if (!item.isFavorite) {\r\n          const obj = {\r\n            item_id: item.id,\r\n            item: item\r\n          }\r\n\r\n          item.isFavorite = true;\r\n          const { data } = await axios.post(`https://c2ff7a8de0a119c8.mokky.dev/favorites`, obj);\r\n          item.favoriteId = data.id;\r\n\r\n          commit('setFavoriteCount', state.favoriteCount + 1);\r\n\r\n        } else {\r\n          item.isFavorite = false;\r\n          await axios.delete(`https://c2ff7a8de0a119c8.mokky.dev/favorites/${item.favoriteId}`);\r\n          item.favoriteId = null;\r\n\r\n          commit('setFavoriteCount', state.favoriteCount == 0 ? state.favoriteCount : state.favoriteCount - 1);\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  },\r\n  namespaced: true\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,OAAO,MAAMC,cAAc,GAAG;EAC5BC,KAAK,EAAEA,CAAA,MAAO;IACZC,aAAa,EAAE;EACjB,CAAC,CAAC;EACFC,SAAS,EAAE;IACTC,gBAAgBA,CAACH,KAAK,EAAEC,aAAa,EAAE;MACrCD,KAAK,CAACC,aAAa,GAAGA,aAAa;IACrC;EACF,CAAC;EACDG,OAAO,EAAE;IACP,MAAMC,aAAaA,CAAC;MAAEL,KAAK;MAAEM;IAAO,CAAC,EAAEC,IAAI,EAAE;MAC3C,IAAI;QACF,IAAI,CAACA,IAAI,CAACC,UAAU,EAAE;UACpB,MAAMC,GAAG,GAAG;YACVC,OAAO,EAAEH,IAAI,CAACI,EAAE;YAChBJ,IAAI,EAAEA;UACR,CAAC;UAEDA,IAAI,CAACC,UAAU,GAAG,IAAI;UACtB,MAAM;YAAEI;UAAK,CAAC,GAAG,MAAMd,KAAK,CAACe,IAAI,CAAE,8CAA6C,EAAEJ,GAAG,CAAC;UACtFF,IAAI,CAACO,UAAU,GAAGF,IAAI,CAACD,EAAE;UAEzBL,MAAM,CAAC,kBAAkB,EAAEN,KAAK,CAACC,aAAa,GAAG,CAAC,CAAC;QAErD,CAAC,MAAM;UACLM,IAAI,CAACC,UAAU,GAAG,KAAK;UACvB,MAAMV,KAAK,CAACiB,MAAM,CAAE,gDAA+CR,IAAI,CAACO,UAAW,EAAC,CAAC;UACrFP,IAAI,CAACO,UAAU,GAAG,IAAI;UAEtBR,MAAM,CAAC,kBAAkB,EAAEN,KAAK,CAACC,aAAa,IAAI,CAAC,GAAGD,KAAK,CAACC,aAAa,GAAGD,KAAK,CAACC,aAAa,GAAG,CAAC,CAAC;QACtG;MACF,CAAC,CAAC,OAAOe,GAAG,EAAE;QACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB;IACF;EACF,CAAC;EACDG,UAAU,EAAE;AACd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}