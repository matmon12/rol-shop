{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-e20f8328\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"destination\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"destination-title\"\n}, \"Добавление адреса доставки\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"destination__inner\"\n};\nconst _hoisted_5 = {\n  class: \"destination__form\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createStaticVNode(\"<h6 class=\\\"destination__form-title\\\" data-v-e20f8328> Введите адрес <br data-v-e20f8328>или выберите на карте </h6><div class=\\\"destination__form-inputwrapper\\\" data-v-e20f8328><input class=\\\"destination__form-search\\\" type=\\\"text\\\" placeholder=\\\"Введите адрес\\\" data-v-e20f8328></div><ul class=\\\"destination__list\\\" data-v-e20f8328><li class=\\\"destination__list-item\\\" data-v-e20f8328><p class=\\\"destination__list-title\\\" data-v-e20f8328>Номер дома</p><input class=\\\"destination__list-input\\\" type=\\\"text\\\" placeholder=\\\"Номер\\\" data-v-e20f8328></li><li class=\\\"destination__list-item\\\" data-v-e20f8328><p class=\\\"destination__list-title\\\" data-v-e20f8328>Подъезд</p><input class=\\\"destination__list-input\\\" type=\\\"text\\\" placeholder=\\\"Номер\\\" data-v-e20f8328></li><li class=\\\"destination__list-item\\\" data-v-e20f8328><p class=\\\"destination__list-title\\\" data-v-e20f8328>Этаж</p><input class=\\\"destination__list-input\\\" type=\\\"text\\\" placeholder=\\\"Номер\\\" data-v-e20f8328></li><li class=\\\"destination__list-item\\\" data-v-e20f8328><p class=\\\"destination__list-title\\\" data-v-e20f8328>Квартира</p><input class=\\\"destination__list-input\\\" type=\\\"text\\\" placeholder=\\\"Номер\\\" data-v-e20f8328></li></ul>\", 3);\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"destination__map\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"map\"\n})], -1 /* HOISTED */));\nexport function render(_ctx, _cache) {\n  const _component_Crumbs = _resolveComponent(\"Crumbs\");\n  const _component_app_button = _resolveComponent(\"app-button\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_Crumbs, {\n    paths: _ctx.paths,\n    class: \"crumbs\"\n  }, null, 8 /* PROPS */, [\"paths\"]), _hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createVNode(_component_app_button, {\n    class: \"destination__btn\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Сохранить адрес\")]),\n    _: 1 /* STABLE */\n  })]), _hoisted_9])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createStaticVNode","id","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_Crumbs","paths","_ctx","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_component_app_button","default","_withCtx","_createTextVNode","_","_hoisted_9"],"sources":["C:\\gitPages\\rol-shop\\src\\pages\\AddressMap.vue"],"sourcesContent":["<template>\r\n  <div class=\"destination\">\r\n    <div class=\"container\">\r\n      <Crumbs :paths=\"paths\" class=\"crumbs\" />\r\n\r\n      <h1 class=\"destination-title\">Добавление адреса доставки</h1>\r\n      <div class=\"destination__inner\">\r\n        <div class=\"destination__form\">\r\n          <h6 class=\"destination__form-title\">\r\n            Введите адрес <br />или выберите на карте\r\n          </h6>\r\n          <div class=\"destination__form-inputwrapper\">\r\n            <input\r\n              class=\"destination__form-search\"\r\n              type=\"text\"\r\n              placeholder=\"Введите адрес\"\r\n            />\r\n          </div>\r\n          <ul class=\"destination__list\">\r\n            <li class=\"destination__list-item\">\r\n              <p class=\"destination__list-title\">Номер дома</p>\r\n              <input class=\"destination__list-input\" type=\"text\" placeholder=\"Номер\" />\r\n            </li>\r\n            <li class=\"destination__list-item\">\r\n              <p class=\"destination__list-title\">Подъезд</p>\r\n              <input class=\"destination__list-input\" type=\"text\" placeholder=\"Номер\" />\r\n            </li>\r\n            <li class=\"destination__list-item\">\r\n              <p class=\"destination__list-title\">Этаж</p>\r\n              <input class=\"destination__list-input\" type=\"text\" placeholder=\"Номер\" />\r\n            </li>\r\n            <li class=\"destination__list-item\">\r\n              <p class=\"destination__list-title\">Квартира</p>\r\n              <input class=\"destination__list-input\" type=\"text\" placeholder=\"Номер\" />\r\n            </li>\r\n          </ul>\r\n          <app-button class=\"destination__btn\">Сохранить адрес</app-button>\r\n        </div>\r\n\r\n        <div class=\"destination__map\">\r\n          <div id=\"map\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import * as ymaps3 from 'ymaps3';\r\nimport Crumbs from \"@/components/Crumbs.vue\";\r\n// import { YMapLocationRequest, BehaviorType } from '@yandex/ymaps3-types';\r\nexport default {\r\n  data() {\r\n    return {\r\n      paths: [\r\n        { name: \"Адрес доставки\", path: \"/rol-shop/address\" },\r\n        { name: \"Добавление адреса доставки\", path: \"/rol-shop/map\" },\r\n      ],\r\n      coord: [30.523745, 50.418901],\r\n      zoom: 16,\r\n      polygonCoord1: [\r\n        [30.525609135265174, 50.41581452769492],\r\n        [30.526797353858758, 50.41704674162194],\r\n        [30.526598870391656, 50.41866108161345],\r\n        [30.52590149604774, 50.41975098688669],\r\n        [30.522425353164497, 50.421245281434295],\r\n        [30.520730197067063, 50.420923121020905],\r\n        [30.519861161346252, 50.42113218281552],\r\n        [30.518546878928944, 50.421085915120884],\r\n        [30.516867816085664, 50.4219307217831],\r\n        [30.516213357085984, 50.42147833226991],\r\n        [30.514341175193604, 50.42149889552497],\r\n        [30.514306306476406, 50.42091969376908],\r\n        [30.513816803331178, 50.42012285131241],\r\n        [30.514151408905786, 50.419628459485686],\r\n        [30.514855153496086, 50.419490937093364],\r\n        [30.511780252317603, 50.41692709917943],\r\n        [30.511058193268894, 50.416591145423126],\r\n        [30.513336457415182, 50.415518278488875],\r\n        [30.512651687358204, 50.41437855989807],\r\n        [30.514337052344967, 50.412067352083284],\r\n        [30.517937897914575, 50.4115187660733],\r\n        [30.521717249984505, 50.411127021711366],\r\n        [30.524810301794076, 50.41173932782978],\r\n        [30.52592295371987, 50.413128909469826],\r\n        [30.525609135265174, 50.41581452769492],\r\n      ],\r\n      polygonCoord2: [\r\n        [30.5098794981063, 50.42628119920888],\r\n        [30.51226666412955, 50.42715846727746],\r\n        [30.515678433996502, 50.427624509288435],\r\n        [30.519663852782916, 50.42687216158533],\r\n        [30.521460589013188, 50.4251054368052],\r\n        [30.523487651409056, 50.42316198375982],\r\n        [30.522434850236454, 50.421248960895035],\r\n        [30.520720293229566, 50.420928888987],\r\n        [30.519875737450686, 50.42112499152181],\r\n        [30.51855433089325, 50.421092218566464],\r\n        [30.516854434264705, 50.421924601598306],\r\n        [30.516223597234163, 50.42147820963046],\r\n        [30.514348058325066, 50.421503913674094],\r\n        [30.514144210439984, 50.421891186574015],\r\n        [30.5143856092513, 50.42240012001261],\r\n        [30.513015000444693, 50.422764252515826],\r\n        [30.510881303173356, 50.42282294184412],\r\n        [30.50966711301253, 50.42317672311909],\r\n        [30.509595183950726, 50.42445807423617],\r\n        [30.5098794981063, 50.42628119920888],\r\n      ],\r\n      polygonCoord3: [\r\n        [30.53565310831554, 50.42189449360963],\r\n        [30.5346124950368, 50.42341715413044],\r\n        [30.532402522446606, 50.42341918895238],\r\n        [30.53107248205133, 50.42301200861088],\r\n        [30.531845628799886, 50.422115385518396],\r\n        [30.530302017511836, 50.42210424723551],\r\n        [30.529532223524566, 50.422356143130784],\r\n        [30.529237180532984, 50.42143423186331],\r\n        [30.527660041632206, 50.42115319955797],\r\n        [30.52844324666457, 50.42007703597716],\r\n        [30.528512984098914, 50.41931959400213],\r\n        [30.52893409091424, 50.41809086697714],\r\n        [30.52965962845278, 50.41718858049145],\r\n        [30.529550328435437, 50.416257570671156],\r\n        [30.52876611757469, 50.4151750826024],\r\n        [30.535583789976325, 50.415936340165416],\r\n        [30.53519461821206, 50.41676940341607],\r\n        [30.536759561443716, 50.4170076980345],\r\n        [30.540460276467726, 50.41663327851576],\r\n        [30.54059901792002, 50.417931489990465],\r\n        [30.540084033789153, 50.42026211044566],\r\n        [30.53836742001964, 50.42146850397636],\r\n        [30.537101417364596, 50.42168784493982],\r\n        [30.53565310831554, 50.42189449360963],\r\n      ],\r\n    };\r\n  },\r\n  components: {\r\n    Crumbs,\r\n  },\r\n  methods: {\r\n    async initMap() {\r\n      await ymaps3.ready;\r\n      const {\r\n        YMap,\r\n        YMapDefaultSchemeLayer,\r\n        YMapDefaultFeaturesLayer,\r\n        YMapMarker,\r\n        YMapFeature,\r\n        YMapListener,\r\n        YMapControls,\r\n        YMapControlButton,\r\n      } = ymaps3;\r\n      const map = new YMap(document.getElementById(\"map\"), {\r\n        location: {\r\n          center: this.coord,\r\n          zoom: this.zoom,\r\n        },\r\n      });\r\n\r\n      // стили\r\n      const layer = new YMapDefaultSchemeLayer({\r\n        customization: [\r\n          {\r\n            tags: {\r\n              any: [\"traffic_light\"],\r\n            },\r\n            stylers: {\r\n              visibility: \"off\",\r\n            },\r\n          },\r\n          {\r\n            tags: {\r\n              any: [\"entrance\"],\r\n            },\r\n            stylers: {\r\n              visibility: \"off\",\r\n            },\r\n          },\r\n          {\r\n            tags: {\r\n              any: [\"road\"],\r\n              none: [\r\n                \"road_1\",\r\n                \"road_2\",\r\n                \"road_3\",\r\n                \"road_4\",\r\n                \"road_5\",\r\n                \"road_6\",\r\n                \"road_7\",\r\n              ],\r\n            },\r\n            elements: \"label.icon\",\r\n            stylers: {\r\n              visibility: \"off\",\r\n            },\r\n          },\r\n          {\r\n            tags: {\r\n              any: [\"building\", \"address\", \"fence\"],\r\n            },\r\n            stylers: {\r\n              visibility: \"off\",\r\n            },\r\n          },\r\n          {\r\n            tags: {\r\n              any: [\"transit\"],\r\n            },\r\n            stylers: {\r\n              visibility: \"off\",\r\n            },\r\n          },\r\n        ],\r\n      });\r\n      map.addChild(layer);\r\n      map.addChild(new YMapDefaultFeaturesLayer());\r\n\r\n      // маркер\r\n      const markerElement = document.createElement(\"div\");\r\n      markerElement.className = \"icon-marker\";\r\n      const marker = new YMapMarker({ coordinates: this.coord }, markerElement);\r\n      map.addChild(marker);\r\n\r\n      // полигоны\r\n      const polygon1 = new YMapFeature({\r\n        geometry: {\r\n          type: \"Polygon\",\r\n          coordinates: [this.polygonCoord1],\r\n        },\r\n        style: {\r\n          stroke: [{ color: \"#ffc700\", width: 2 }],\r\n          fill: \"#ffc80059\",\r\n        },\r\n      });\r\n      const polygon2 = new YMapFeature({\r\n        geometry: {\r\n          type: \"Polygon\",\r\n          coordinates: [this.polygonCoord2],\r\n        },\r\n        style: {\r\n          stroke: [{ color: \"#55b20b\", width: 2 }],\r\n          fill: \"#56b20b50\",\r\n        },\r\n      });\r\n      const polygon3 = new YMapFeature({\r\n        geometry: {\r\n          type: \"Polygon\",\r\n          coordinates: [this.polygonCoord3],\r\n        },\r\n        style: {\r\n          stroke: [{ color: \"#f44837\", width: 2 }],\r\n          fill: \"#f4473752\",\r\n        },\r\n      });\r\n      map.addChild(polygon1);\r\n      map.addChild(polygon2);\r\n      map.addChild(polygon3);\r\n\r\n      // обработка клика / перемещение по карте по клику\r\n      function changeMapPosition(location, camera) {\r\n        map.update({ location: { ...location, duration: 1000 }, camera });\r\n      }\r\n      const click = (object, event) => {\r\n        changeMapPosition(\r\n          {\r\n            center: [event.coordinates[0], event.coordinates[1]],\r\n            zoom: this.zoom,\r\n          },\r\n          { tilt: ( Math.PI) / 180 }\r\n        );\r\n        this.coord = [event.coordinates[0], event.coordinates[1]];\r\n        marker.update({ coordinates: this.coord})\r\n      };\r\n      const mapListener = new YMapListener({\r\n        onClick: click,\r\n      });\r\n      map.addChild(mapListener);\r\n\r\n\r\n    },\r\n    async geocoder(){\r\n      try {\r\n        const { data } = await\r\n      } catch(err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initMap();\r\n  },\r\n  setup() {\r\n    return {};\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.crumbs {\r\n  margin-bottom: 32px;\r\n}\r\n.destination-title {\r\n  color: $grey-dark;\r\n  font-size: 48px;\r\n  font-weight: 700;\r\n  line-height: 133%;\r\n  margin-bottom: 24px;\r\n}\r\n.destination {\r\n  margin-bottom: 64px;\r\n  &__inner {\r\n    display: flex;\r\n    gap: 24px;\r\n  }\r\n\r\n  &__form {\r\n    height: fit-content;\r\n    min-width: 379px;\r\n    border-radius: $border;\r\n    background-color: #fff;\r\n    padding: 16px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 24px;\r\n  }\r\n\r\n  &__form-title {\r\n    color: $grey-dark;\r\n    text-align: center;\r\n    font-weight: 500;\r\n  }\r\n\r\n  &__form-inputwrapper {\r\n    position: relative;\r\n    width: 100%;\r\n    &::before {\r\n      content: \"\";\r\n      position: absolute;\r\n      left: 16px;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n      width: 24px;\r\n      height: 24px;\r\n      background: url(\"@/img/icon/search.svg\") no-repeat;\r\n    }\r\n  }\r\n\r\n  &__form-search {\r\n    height: 48px;\r\n    width: 100%;\r\n    background: var(---, #f5f5f7);\r\n    border-radius: $border;\r\n    padding: 0 10px 0 52px;\r\n    color: $grey-dark;\r\n    font-weight: 400;\r\n  }\r\n\r\n  &__list {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    row-gap: 24px;\r\n    column-gap: 12px;\r\n  }\r\n\r\n  &__list-item {\r\n  }\r\n\r\n  &__list-title {\r\n    color: #9e9e9e;\r\n    font-size: 14px;\r\n    line-height: 142%;\r\n    margin-bottom: 4px;\r\n  }\r\n\r\n  &__list-input {\r\n    height: 48px;\r\n    width: 100%;\r\n    background: var(---, #f5f5f7);\r\n    border-radius: $border;\r\n    padding: 0 16px;\r\n    color: $grey-dark;\r\n    font-weight: 400;\r\n  }\r\n\r\n  &__btn {\r\n    max-width: 100%;\r\n    height: 56px;\r\n  }\r\n  &__map {\r\n    // flex-grow: 1;\r\n    width: 100%;\r\n    height: 540px;\r\n    border-radius: $border;\r\n    overflow: hidden;\r\n  }\r\n}\r\n#map {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n.ymaps-2-1-79-map-copyrights-promo {\r\n  display: none;\r\n}\r\n.icon-marker {\r\n  cursor: pointer;\r\n\r\n  width: 57px;\r\n  height: 57px;\r\n  border-radius: 50%;\r\n\r\n  position: relative;\r\n  transform: translate(-50%, -90%);\r\n  &::after {\r\n    content: url(\"@/img/icon/location.svg\");\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAa;;EACjBA,KAAK,EAAC;AAAW;gEAGpBC,mBAAA,CAA6D;EAAzDD,KAAK,EAAC;AAAmB,GAAC,4BAA0B;;EACnDA,KAAK,EAAC;AAAoB;;EACxBA,KAAK,EAAC;AAAmB;gCAPtCE,kBAAA;gEAuCQD,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAkB,I,aAC3BC,mBAAA,CAAoB;EAAfE,EAAE,EAAC;AAAK,G;;;;uBAvCrBC,mBAAA,CA2CM,OA3CNC,UA2CM,GA1CJJ,mBAAA,CAyCM,OAzCNK,UAyCM,GAxCJC,YAAA,CAAwCC,iBAAA;IAA/BC,KAAK,EAAEC,IAAA,CAAAD,KAAK;IAAET,KAAK,EAAC;sCAE7BW,UAA6D,EAC7DV,mBAAA,CAoCM,OApCNW,UAoCM,GAnCJX,mBAAA,CA8BM,OA9BNY,UA8BM,GA7BJC,UAEK,EA0BLP,YAAA,CAAiEQ,qBAAA;IAArDf,KAAK,EAAC;EAAkB;IApC9CgB,OAAA,EAAAC,QAAA,CAoC+C,MAAe,CApC9DC,gBAAA,CAoC+C,iBAAe,E;IApC9DC,CAAA;QAuCQC,UAEM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}