{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { inject, ref } from \"vue\";\nimport axios from \"axios\";\nimport { mapActions, mapMutations } from \"vuex\";\nexport default {\n  data() {\n    return {\n      page: 1,\n      limit: 8,\n      allItemsLoaded_1: false,\n      allItemsLoaded_2: false,\n      allItemsLoaded_3: false,\n      allItemsLoaded_4: false,\n      allItemsLoaded_5: false,\n      error: false\n    };\n  },\n  components: {},\n  methods: {\n    ...mapActions({\n      addToFavorite: \"favorite/addToFavorite\"\n    }),\n    async fetchItems(category) {\n      let apiRes = null;\n      try {\n        const {\n          data\n        } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/items?page=1&limit=${this.limit}&category=${category}`);\n        this[category] = data.items.map(obj => ({\n          ...obj,\n          isFavorite: false,\n          favoriteId: null,\n          isAdded: false,\n          count: 1\n        }));\n      } catch (err) {\n        apiRes = err.response.status;\n      } finally {\n        if (apiRes == 404) {\n          this.error = true;\n        }\n      }\n    },\n    async loadMoreItems(category, itemsLoaded) {\n      let apiRes = null;\n      try {\n        let allItemsLoaded = false;\n        let page = 1;\n        while (!allItemsLoaded) {\n          page += 1;\n          const {\n            data\n          } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/items?page=${page}&limit=${this.limit}&category=${category}`);\n          this[category] = this[category].concat(data.items.map(obj => ({\n            ...obj,\n            isFavorite: false,\n            favoriteId: null,\n            isAdded: false,\n            count: 1\n          })));\n          if (data.meta.remaining_count == 0) {\n            allItemsLoaded = true;\n            this[category] = this[category].map(item => ({\n              ...item,\n              isAdded: this.cart.some(cartItem => cartItem.id === item.id)\n            }));\n            this.fetchFavorites(category);\n          }\n        }\n      } catch (err) {\n        apiRes = err.response.status;\n      } finally {\n        if (apiRes == 404) {\n          this.error = true;\n        } else {\n          this[itemsLoaded] = true;\n        }\n      }\n    },\n    async fetchFavorites(category) {\n      try {\n        const {\n          data: favorites\n        } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/favorites`);\n        this[category] = this[category].map(item => {\n          const favorite = favorites.find(favorite => favorite.item_id === item.id);\n          if (!favorite) {\n            return item;\n          }\n          return {\n            ...item,\n            isFavorite: true,\n            favoriteId: favorite.id\n          };\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    load(isCategory) {\n      this.fetchItems(isCategory).then(() => {\n        // включение кнопки для карточек\n        this[isCategory] = this[isCategory].map(item => ({\n          ...item,\n          isAdded: this.cart.some(cartItem => cartItem.id === item.id)\n        }));\n        // включение кнопки для слайдера\n        this.slides = this.slides.map(item => ({\n          ...item,\n          isAdded: this.cart.some(cartItem => cartItem.id === item.id)\n        }));\n        this.fetchFavorites(isCategory);\n      });\n    },\n    async fetchSlides() {\n      let apiRes = null;\n      try {\n        const {\n          data: slides\n        } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/top`);\n        this.slides = slides.map(obj => ({\n          ...obj,\n          isAdded: false,\n          count: 1\n        }));\n      } catch (err) {\n        apiRes = err.response.status;\n      } finally {\n        if (apiRes == 404) {\n          this.error = true;\n        }\n      }\n    },\n    async sliderAddCart(item) {\n      if (!item.isAdded) {\n        // для карточек\n        this[item.category].forEach(pl => {\n          if (pl.id === item.id) {\n            pl.isAdded = true;\n            this.cart.push(pl);\n          }\n        });\n\n        // для случаев, когда данные для карточек еще не были получены\n        if (this[item.category].length === 0) {\n          const {\n            data\n          } = await axios.get(`https://c2ff7a8de0a119c8.mokky.dev/items?id=${item.id}`);\n          this.cart.push(data[0]);\n        }\n\n        // для слайдера\n        item.isAdded = true;\n      } else {\n        // из корзины\n        let index = -1;\n        for (let i = 0; i < this.cart.length; i++) {\n          if (this.cart[i].id === item.id) {\n            index = i;\n            break;\n          }\n        }\n        if (index !== -1) {\n          this.cart.splice(index, 1);\n        }\n        // для карточек\n        this[item.category].forEach(pl => {\n          if (pl.id === item.id) {\n            pl.isAdded = false;\n            pl.count = 1;\n          }\n        });\n\n        // для слайдера\n        item.isAdded = false;\n      }\n    }\n  },\n  mounted() {\n    this.fetchSlides();\n  },\n  setup() {\n    const {\n      sushi,\n      rolls,\n      sets,\n      snacks,\n      drinks,\n      slides\n    } = inject(\"items\");\n    const {\n      cart,\n      addToCart,\n      removeFromCart\n    } = inject(\"cart\");\n    const onClickAddPlus = item => {\n      if (!item.isAdded) {\n        addToCart(item);\n      } else {\n        removeFromCart(item);\n      }\n    };\n    return {\n      sushi,\n      rolls,\n      sets,\n      snacks,\n      drinks,\n      cart,\n      slides,\n      onClickAddPlus\n    };\n  }\n};","map":{"version":3,"names":["inject","ref","axios","mapActions","mapMutations","data","page","limit","allItemsLoaded_1","allItemsLoaded_2","allItemsLoaded_3","allItemsLoaded_4","allItemsLoaded_5","error","components","methods","addToFavorite","fetchItems","category","apiRes","get","items","map","obj","isFavorite","favoriteId","isAdded","count","err","response","status","loadMoreItems","itemsLoaded","allItemsLoaded","concat","meta","remaining_count","item","cart","some","cartItem","id","fetchFavorites","favorites","favorite","find","item_id","console","log","load","isCategory","then","slides","fetchSlides","sliderAddCart","forEach","pl","push","length","index","i","splice","mounted","setup","sushi","rolls","sets","snacks","drinks","addToCart","removeFromCart","onClickAddPlus"],"sources":["C:\\gitPages\\rol-shop\\src\\pages\\Home.vue"],"sourcesContent":["<template>\r\n  <div v-if=\"!error\">\r\n    <div class=\"home\">\r\n      <div class=\"container\">\r\n        <Category class=\"category\" />\r\n      </div>\r\n\r\n      <SliderTop class=\"page-section\" />\r\n\r\n      <CardList\r\n        v-intersection=\"{ active: () => load('sushi') }\"\r\n        card-list-name=\"Суши\"\r\n        :items=\"sushi\"\r\n        @add-to-favorite=\"(item) => this.addToFavorite(item)\"\r\n        @add-to-cart=\"(item) => onClickAddPlus(item)\"\r\n        @load-more-items=\"\r\n          !allItemsLoaded_1 ? (loadMoreItems('sushi', 'allItemsLoaded_1')) : null\r\n        \"\r\n        class=\"page-section\"\r\n      />\r\n\r\n      <CardList\r\n        v-intersection=\"{ active: () => load('rolls') }\"\r\n        card-list-name=\"Роллы\"\r\n        :items=\"rolls\"\r\n        @add-to-favorite=\"(item) => this.addToFavorite(item)\"\r\n        @add-to-cart=\"(item) => onClickAddPlus(item)\"\r\n        @load-more-items=\"\r\n          !allItemsLoaded_2 ? (loadMoreItems('rolls', 'allItemsLoaded_2')) : null\r\n        \"\r\n        class=\"page-section\"\r\n      />\r\n\r\n      <CardList\r\n        v-intersection=\"{ active: () => load('sets') }\"\r\n        card-list-name=\"Сеты\"\r\n        :items=\"sets\"\r\n        @add-to-favorite=\"(item) => this.addToFavorite(item)\"\r\n        @add-to-cart=\"(item) => onClickAddPlus(item)\"\r\n        @load-more-items=\"\r\n          !allItemsLoaded_3 ? (loadMoreItems('sets', 'allItemsLoaded_3')) : null\r\n        \"\r\n        class=\"page-section\"\r\n      />\r\n\r\n      <SliderProduct\r\n        :slides=\"slides\"\r\n        class=\"page-section\"\r\n        @slider-add-cart=\"(item) => sliderAddCart(item)\"\r\n      />\r\n\r\n      <CardList\r\n        v-intersection=\"{ active: () => load('snacks') }\"\r\n        card-list-name=\"Закуски\"\r\n        :items=\"snacks\"\r\n        @add-to-favorite=\"(item) => this.addToFavorite(item)\"\r\n        @add-to-cart=\"(item) => onClickAddPlus(item)\"\r\n        @load-more-items=\"\r\n          !allItemsLoaded_4 ? (loadMoreItems('snacks', 'allItemsLoaded_4')) : null\r\n        \"\r\n        class=\"page-section\"\r\n      />\r\n\r\n      <CardList\r\n        v-intersection=\"{ active: () => load('drinks') }\"\r\n        card-list-name=\"Напитки\"\r\n        :items=\"drinks\"\r\n        @add-to-favorite=\"(item) => this.addToFavorite(item)\"\r\n        @add-to-cart=\"(item) => onClickAddPlus(item)\"\r\n        @load-more-items=\"\r\n          !allItemsLoaded_5 ? (loadMoreItems('drinks', 'allItemsLoaded_5')) : null\r\n        \"\r\n        class=\"page-section\"\r\n      />\r\n    </div>\r\n\r\n    <div class=\"tovar-info\">\r\n      <div class=\"container\">\r\n        <InfoText class=\"tovar-info\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <Error\r\n    v-else\r\n    :imgUrl=\"require('@/img/icon/404.svg')\"\r\n    :title=\"['Ошибка 404.', 'Что-то пошло не так.']\"\r\n    text=\"Страница, которую вы ищите, временно не доступна или ее еже нет\"\r\n    :button=\"{imgUrl: '', text: 'Вернуться на главную'}\"\r\n    @click-error=\"error = false\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport { inject, ref } from \"vue\";\r\nimport axios from \"axios\";\r\nimport { mapActions, mapMutations } from \"vuex\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      page: 1,\r\n      limit: 8,\r\n      allItemsLoaded_1: false,\r\n      allItemsLoaded_2: false,\r\n      allItemsLoaded_3: false,\r\n      allItemsLoaded_4: false,\r\n      allItemsLoaded_5: false,\r\n      error: false,\r\n    };\r\n  },\r\n  components: {},\r\n  methods: {\r\n    ...mapActions({\r\n      addToFavorite: \"favorite/addToFavorite\",\r\n    }),\r\n    async fetchItems(category) {\r\n      let apiRes = null;\r\n      try {\r\n        const { data } = await axios.get(\r\n          `https://c2ff7a8de0a119c8.mokky.dev/items?page=1&limit=${this.limit}&category=${category}`\r\n        );\r\n\r\n        this[category] = data.items.map((obj) => ({\r\n          ...obj,\r\n          isFavorite: false,\r\n          favoriteId: null,\r\n          isAdded: false,\r\n          count: 1,\r\n        }));\r\n      } catch (err) {\r\n        apiRes = err.response.status;\r\n      } finally {\r\n        if (apiRes == 404) {\r\n          this.error = true;\r\n        }\r\n      }\r\n    },\r\n    async loadMoreItems(category, itemsLoaded) {\r\n      let apiRes = null;\r\n      try {\r\n        let allItemsLoaded = false;\r\n        let page = 1;\r\n\r\n        while (!allItemsLoaded) {\r\n          page += 1;\r\n\r\n          const { data } = await axios.get(\r\n            `https://c2ff7a8de0a119c8.mokky.dev/items?page=${page}&limit=${this.limit}&category=${category}`\r\n          );\r\n\r\n          this[category] = this[category].concat(\r\n            data.items.map((obj) => ({\r\n              ...obj,\r\n              isFavorite: false,\r\n              favoriteId: null,\r\n              isAdded: false,\r\n              count: 1,\r\n            }))\r\n          );\r\n\r\n          if (data.meta.remaining_count == 0) {\r\n            allItemsLoaded = true;\r\n            this[category] = this[category].map((item) => ({\r\n              ...item,\r\n              isAdded: this.cart.some((cartItem) => cartItem.id === item.id),\r\n            }));\r\n            this.fetchFavorites(category);\r\n          }\r\n        }\r\n      } catch (err) {\r\n        apiRes = err.response.status;\r\n      } finally {\r\n        if (apiRes == 404) {\r\n          this.error = true;\r\n        } else {\r\n          this[itemsLoaded] = true;\r\n        }\r\n      }\r\n    },\r\n    async fetchFavorites(category) {\r\n      try {\r\n        const { data: favorites } = await axios.get(\r\n          `https://c2ff7a8de0a119c8.mokky.dev/favorites`\r\n        );\r\n\r\n        this[category] = this[category].map((item) => {\r\n          const favorite = favorites.find((favorite) => favorite.item_id === item.id);\r\n\r\n          if (!favorite) {\r\n            return item;\r\n          }\r\n\r\n          return {\r\n            ...item,\r\n            isFavorite: true,\r\n            favoriteId: favorite.id,\r\n          };\r\n        });\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    load(isCategory) {\r\n      this.fetchItems(isCategory).then(() => {\r\n        // включение кнопки для карточек\r\n        this[isCategory] = this[isCategory].map((item) => ({\r\n          ...item,\r\n          isAdded: this.cart.some((cartItem) => cartItem.id === item.id),\r\n        }));\r\n        // включение кнопки для слайдера\r\n        this.slides = this.slides.map((item) => ({\r\n          ...item,\r\n          isAdded: this.cart.some((cartItem) => cartItem.id === item.id),\r\n        }));\r\n        this.fetchFavorites(isCategory);\r\n      });\r\n    },\r\n    async fetchSlides() {\r\n      let apiRes = null;\r\n      try {\r\n        const { data: slides } = await axios.get(\r\n          `https://c2ff7a8de0a119c8.mokky.dev/top`\r\n        );\r\n\r\n        this.slides = slides.map((obj) => ({\r\n          ...obj,\r\n          isAdded: false,\r\n          count: 1,\r\n        }));\r\n      } catch (err) {\r\n        apiRes = err.response.status;\r\n      } finally {\r\n        if (apiRes == 404) {\r\n          this.error = true;\r\n        }\r\n      }\r\n    },\r\n    async sliderAddCart(item) {\r\n      if (!item.isAdded) {\r\n        // для карточек\r\n        this[item.category].forEach((pl) => {\r\n          if (pl.id === item.id) {\r\n            pl.isAdded = true;\r\n            this.cart.push(pl);\r\n          }\r\n        });\r\n\r\n        // для случаев, когда данные для карточек еще не были получены\r\n        if (this[item.category].length === 0) {\r\n          const { data } = await axios.get(\r\n            `https://c2ff7a8de0a119c8.mokky.dev/items?id=${item.id}`\r\n          );\r\n\r\n          this.cart.push(data[0]);\r\n        }\r\n\r\n        // для слайдера\r\n        item.isAdded = true;\r\n      } else {\r\n        // из корзины\r\n        let index = -1;\r\n        for (let i = 0; i < this.cart.length; i++) {\r\n          if (this.cart[i].id === item.id) {\r\n            index = i;\r\n            break;\r\n          }\r\n        }\r\n        if (index !== -1) {\r\n          this.cart.splice(index, 1);\r\n        }\r\n        // для карточек\r\n        this[item.category].forEach((pl) => {\r\n          if (pl.id === item.id) {\r\n            pl.isAdded = false;\r\n            pl.count = 1;\r\n          }\r\n        });\r\n\r\n        // для слайдера\r\n        item.isAdded = false;\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchSlides();\r\n  },\r\n  setup() {\r\n    const { sushi, rolls, sets, snacks, drinks, slides } = inject(\"items\");\r\n    const { cart, addToCart, removeFromCart } = inject(\"cart\");\r\n\r\n    const onClickAddPlus = (item) => {\r\n      if (!item.isAdded) {\r\n        addToCart(item);\r\n      } else {\r\n        removeFromCart(item);\r\n      }\r\n    };\r\n\r\n    return {\r\n      sushi,\r\n      rolls,\r\n      sets,\r\n      snacks,\r\n      drinks,\r\n      cart,\r\n      slides,\r\n      onClickAddPlus,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.category {\r\n  margin-bottom: 48px;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}